(function(l){"use strict";var i,c;i=function(r,t){function e(){a.onerror=a.onload=null,clearTimeout(s);var e=u[r];0!==e&&(e&&e[1](Error("Loading chunk "+r+" failed.")),u[r]=void 0)}var i=u[r];if(0===i)return t;if(i)return i[2];var n=new Promise(function(e,t){i=u[r]=[e,t]}).then(function(e){return t.then(function(){e&&e.call(d,l)})});i[2]=n;var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,l.nc&&0<l.nc.length&&a.setAttribute("nonce",l.nc),a.src=(l.da.p||"")+c[r];var s=setTimeout(e,12e4);return a.onerror=a.onload=e,o.appendChild(a),n},l.m=l.m||{},l.m.scope={},l.m.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},l.m.arrayIterator=function(e){return{next:l.m.arrayIteratorImpl(e)}},l.m.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):l.m.arrayIterator(e)},l.m.arrayFromIterator=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r},l.m.arrayFromIterable=function(e){return e instanceof Array?e:l.m.arrayFromIterator(l.m.makeIterator(e))},l.m.ASSUME_ES5=!1,l.m.ASSUME_NO_NATIVE_MAP=!1,l.m.ASSUME_NO_NATIVE_SET=!1,l.m.SIMPLE_FROUND_POLYFILL=!1,l.m.ISOLATE_POLYFILLS=!1,l.m.objectCreate=l.m.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},l.m.defineProperty=l.m.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},l.m.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},l.m.global=l.m.getGlobal(this),l.m.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),l.m.TRUST_ES6_POLYFILLS=!l.m.ISOLATE_POLYFILLS||l.m.IS_SYMBOL_NATIVE,l.m.polyfills={},l.m.propertyToPolyfillSymbol={},l.m.POLYFILL_PREFIX="$jscp$",l.m.polyfill=function(e,t,r,i){t&&(l.m.ISOLATE_POLYFILLS?l.m.polyfillIsolated(e,t,r,i):l.m.polyfillUnisolated(e,t,r,i))},l.m.polyfillUnisolated=function(e,t){var r=l.m.global;e=e.split(".");for(var i=0;i<e.length-1;i++){var n=e[i];if(!(n in r))return;r=r[n]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&l.m.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},l.m.polyfillIsolated=function(e,t,r){var i=e.split(".");e=1===i.length;var n=i[0];n=!e&&n in l.m.polyfills?l.m.polyfills:l.m.global;for(var o=0;o<i.length-1;o++){var a=i[o];if(!(a in n))return;n=n[a]}i=i[i.length-1],null!=(t=t(r=l.m.IS_SYMBOL_NATIVE&&"es6"===r?n[i]:null))&&(e?l.m.defineProperty(l.m.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==r&&(l.m.propertyToPolyfillSymbol[i]=l.m.IS_SYMBOL_NATIVE?l.m.global.Symbol(i):l.m.POLYFILL_PREFIX+i,i=l.m.propertyToPolyfillSymbol[i],l.m.defineProperty(n,i,{configurable:!0,writable:!0,value:t})))},l.m.getConstructImplementation=function(){if(l.m.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],function(){}),new e instanceof e}())return Reflect.construct;var i=Reflect.construct;return function(e,t,r){return e=i(e,t),r&&Reflect.setPrototypeOf(e,r.prototype),e}}return function(e,t,r){return void 0===r&&(r=e),r=l.m.objectCreate(r.prototype||Object.prototype),Function.prototype.apply.call(e,r,t)||r}},l.m.construct=l.m.getConstructImplementation(),l.m.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},l.m.setPrototypeOf=l.m.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:l.m.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,l.m.inherits=function(e,t){if(e.prototype=l.m.objectCreate(t.prototype),e.prototype.constructor=e,l.m.setPrototypeOf){var r=l.m.setPrototypeOf;r(e,t)}else for(r in t)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r];e.superClass_=t.prototype},l.m.generator={},l.m.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},l.m.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},l.m.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},l.m.generator.Context.prototype.stop_=function(){this.isRunning_=!1},l.m.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},l.m.generator.Context.prototype.next_=function(e){this.yieldResult=e},l.m.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},l.m.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},l.m.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},l.m.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},l.m.generator.Context.prototype.yieldAll=function(e,t){var r=(e=l.m.makeIterator(e)).next();if(l.m.generator.ensureIteratorResultIsObject_(r),!r.done)return this.yieldAllIterator_=e,this.yield(r.value,t);this.yieldResult=r.value,this.nextAddress=t},l.m.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},l.m.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},l.m.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,null!=t&&(this.finallyAddress_=t)},l.m.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},l.m.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},l.m.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},l.m.generator.Context.prototype.enterFinallyBlock=function(e,t,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},l.m.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();null!=t.jumpTo&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},l.m.generator.Context.prototype.forIn=function(e){return new l.m.generator.Context.PropertyIterator(e)},l.m.generator.Context.PropertyIterator=function(e){for(var t in this.object_=e,this.properties_=[],e)this.properties_.push(t);this.properties_.reverse()},l.m.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},l.m.generator.Engine_=function(e){this.context_=new l.m.generator.Context,this.program_=e},l.m.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},l.m.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},l.m.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},l.m.generator.Engine_.prototype.yieldAllStep_=function(e,t,r){try{var i=e.call(this.context_.yieldAllIterator_,t);if(l.m.generator.ensureIteratorResultIsObject_(i),!i.done)return this.context_.stop_(),i;var n=i.value}catch(e){return this.context_.yieldAllIterator_=null,this.context_.throw_(e),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,n),this.nextStep_()},l.m.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},l.m.generator.Generator_=function(t){this.next=function(e){return t.next_(e)},this.throw=function(e){return t.throw_(e)},this.return=function(e){return t.return_(e)},this[Symbol.iterator]=function(){return this}},l.m.generator.createGenerator=function(e,t){return t=new l.m.generator.Generator_(new l.m.generator.Engine_(t)),l.m.setPrototypeOf&&e.prototype&&l.m.setPrototypeOf(t,e.prototype),t},l.m.asyncExecutePromiseGenerator=function(t){function n(e){return t.next(e)}function o(e){return t.throw(e)}return new Promise(function(r,i){!function e(t){t.done?r(t.value):Promise.resolve(t.value).then(n,o).then(e,i)}(t.next())})},l.m.asyncExecutePromiseGeneratorFunction=function(e){return l.m.asyncExecutePromiseGenerator(e())},l.m.asyncExecutePromiseGeneratorProgram=function(e){return l.m.asyncExecutePromiseGenerator(new l.m.generator.Generator_(new l.m.generator.Engine_(e)))},l.m.polyfill("Reflect",function(e){return e||{}},"es6","es3"),l.m.polyfill("Reflect.construct",function(){return l.m.construct},"es6","es3"),l.m.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if(l.m.setPrototypeOf){var r=l.m.setPrototypeOf;return function(e,t){try{return r(e,t),!0}catch(e){return!1}}}return null},"es6","es5"),l.m.initSymbol=function(){},l.m.polyfill("Symbol",function(e){function r(e,t){this.$jscomp$symbol$id_=e,l.m.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;r.prototype.toString=function(){return this.$jscomp$symbol$id_};var i=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new r("jscomp_symbol_"+(t||"")+"_"+i++,t)}},"es6","es3"),l.m.initSymbolIterator=function(){},l.m.polyfill("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var i=l.m.global[t[r]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&l.m.defineProperty(i.prototype,e,{configurable:!0,writable:!0,value:function(){return l.m.iteratorPrototype(l.m.arrayIteratorImpl(this))}})}return e},"es6","es3"),l.m.initSymbolAsyncIterator=function(){},l.m.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},l.m.FORCE_POLYFILL_PROMISE=!1,l.m.polyfill("Promise",function(e){function s(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.batch_=null}function c(t){return t instanceof s?t:new s(function(e){e(t)})}if(e&&!l.m.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction(function(){t.executeBatch_()})}this.batch_.push(e)};var r=l.m.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){r(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})},s.prototype.createResolveAndReject_=function(){function e(t){return function(e){i||(i=!0,t.call(r,e))}}var r=this,i=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},s.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof s)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},s.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},s.prototype.reject_=function(e){this.settle_(2,e)},s.prototype.fulfill_=function(e){this.settle_(1,e)},s.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},s.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)n.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var n=new t;return s.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},s.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},s.prototype.then=function(e,t){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){n(e)}}:e}var i,n,o=new s(function(e,t){i=e,n=t});return this.callWhenSettled_(r(e,i),r(t,n)),o},s.prototype.catch=function(e){return this.then(void 0,e)},s.prototype.callWhenSettled_=function(e,t){function r(){switch(i.state_){case 1:e(i.result_);break;case 2:t(i.result_);break;default:throw Error("Unexpected state: "+i.state_)}}var i=this;null==this.onSettledCallbacks_?n.asyncExecute(r):this.onSettledCallbacks_.push(r)},s.resolve=c,s.reject=function(r){return new s(function(e,t){t(r)})},s.race=function(n){return new s(function(e,t){for(var r=l.m.makeIterator(n),i=r.next();!i.done;i=r.next())c(i.value).callWhenSettled_(e,t)})},s.all=function(e){var o=l.m.makeIterator(e),a=o.next();return a.done?c([]):new s(function(r,e){function t(t){return function(e){i[t]=e,0==--n&&r(i)}}for(var i=[],n=0;i.push(void 0),n++,c(a.value).callWhenSettled_(t(i.length-1),e),!(a=o.next()).done;);})},s},"es6","es3"),l.m.iteratorFromArray=function(t,r){t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var e=i++;return{value:r(e,t[e]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},l.m.polyfill("Array.prototype.keys",function(e){return e||function(){return l.m.iteratorFromArray(this,function(e){return e})}},"es6","es3"),l.m.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var i=e.length,n=0;n<i;n++){var o=e[n];if(t.call(r,o,n,e))return{i:n,v:o}}return{i:-1,v:void 0}},l.m.polyfill("Array.prototype.find",function(e){return e||function(e,t){return l.m.findInternal(this,e,t).v}},"es6","es3"),l.m.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.m.assign=l.m.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i)for(var n in i)l.m.owns(i,n)&&(e[n]=i[n])}return e},l.m.polyfill("Object.assign",function(e){return e||l.m.assign},"es6","es3"),l.m.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),l.m.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var i=r.length;for((t=t||0)<0&&(t=Math.max(t+i,0));t<i;t++){var n=r[t];if(n===e||Object.is(n,e))return!0}return!1}},"es7","es3"),l.m.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},l.m.polyfill("String.prototype.includes",function(e){return e||function(e,t){return-1!==l.m.checkStringArgs(this,e,"includes").indexOf(e,t||0)}},"es6","es3"),l.m.polyfill("Array.prototype.findIndex",function(e){return e||function(e,t){return l.m.findInternal(this,e,t).i}},"es6","es3"),l.m.polyfill("Object.values",function(e){return e||function(e){var t,r=[];for(t in e)l.m.owns(e,t)&&r.push(e[t]);return r}},"es8","es3"),l.m.polyfill("Object.entries",function(e){return e||function(e){var t,r=[];for(t in e)l.m.owns(e,t)&&r.push([t,e[t]]);return r}},"es8","es3"),l.m.polyfill("Array.from",function(e){return e||function(e,t,r){t=null!=t?t:function(e){return e};var i=[],n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof n){e=n.call(e);for(var o=0;!(n=e.next()).done;)i.push(t.call(r,n.value,o++))}else for(n=e.length,o=0;o<n;o++)i.push(t.call(r,e[o],o));return i}},"es6","es3"),c={},void 0===l.da&&(l.da=function(){}),l.da.p="";var u,n,d=this;void 0===u&&(u={}),n=window.tlJsonp4491,window.tlJsonp4491=function(e,t){var r,i=[];for(r=0;r<e.length;r++)u[e[r]]&&(i.push(u[e[r]][0]),u[e[r]]=0);for(n&&n(e,function(){});i.length;)i.shift()(t)},l.da.e=function(){for(var e=Array.prototype.slice.call(arguments),t=Promise.resolve(),r=0;r<e.length;r++)t=i(e[r],t);return t},l.da.oe=function(e){throw console.error(e),e},l.da.rs=function(e,t){c[e]=t}}).call(this||window,window.__wpcc=window.__wpcc||{}),function(ne){"use strict";var oe,ae,se,i,e,t,f,u,r,d,n,a,m,ce,le,o,s,ue,c,l,y,p,h,de,g,pe,v,_,I,A,b,w,he,M,E,C,T,S,D,P,fe,me,ge,O,N,L,x,R,ye,ve,_e,Ie,Ae,be,we,Me,Ee,j,Ce,k,Te,U,F,Se,De,Pe,Oe,B,Ne,Le,xe,Re,je,V,W,H,z,Q,Y,G,ke,Ue,Fe,Be,Z,q,J,X,K,$,ee,te,re,ie,Ve,We,He,ze,Qe,Ye,Ge,Ze,qe,Je,Xe,Ke,$e,et,tt,rt,it,nt,ot,at,st,ct,lt,ut,dt,pt,ht,ft,mt,gt,yt,vt,_t,It,At,bt,wt,Mt,Et,Ct,Tt,St,Dt,Pt,Ot,Nt,Lt,xt,Rt;for(ne.p=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},oe=function(e,t){var n=this,r=e.environment;e=e.bundleStartTime;var i=t.eventController;t=t.urlParams,ne.p(this,"auctionId","none"),ne.p(this,"formatName","none"),ne.p(this,"_log",function(e,t){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];console.log(n._makeLogString(e,r))}),this.environment=r,this.bundleStartTime=e,this.eventController=i,t.debugLog&&this._setupListeners()},ae=function(e){var t=e.lifecycleManager,r=e.urlParams;this.firePix=e.firePix,this.lifecycleManager=t,this.urlParams=r,this.previousErrorMap={}},se=function(e,t){t=void 0===t?ae.ERROR:t,e=Error.call(this,e),this.message=e.message,"stack"in e&&(this.stack=e.stack),ne.p(this,"errorLevel",null),this.errorLevel=t},i=function(e,t,r){if(!e)throw new se("Tried to set style "+t+" to "+r+" on an invalid element.");e.style.setProperty(t,r,"important")},e=function(e,t){if(!Array.isArray(t))throw new se("arg2 of setStyleProperties must be an array");for(var r=0;r<t.length;r++)i(e,t[r][0],t[r][1]);return e},t=function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},f=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];return t=[].slice.call(t),Object.assign.apply(null,t.map(function(t){var r={};return Object.keys(t).forEach(function(e){"_"!==e[0]&&(r[e]=t[e])}),r}))},ne.oa=function(e,t){return!!e&&!!(e&Math.pow(2,t))},ne.pa=function(e){return ne.F.setStyle(e,"display","inline"),ne.F.setStyle(e,"box-sizing","content-box"),ne.F.setStyle(e,"-webkit-box-sizing","content-box"),ne.F.setStyle(e,"-moz-box-sizing","content-box"),ne.F.setStyle(e,"padding","0"),ne.F.setStyle(e,"border","0"),ne.F.setStyle(e,"margin","0"),ne.F.setStyle(e,"float","none"),ne.F.setStyle(e,"outline","none"),ne.F.setStyle(e,"object-fit","fill"),ne.F.setStyle(e,"background","none"),e},u=function(e){if("object"==typeof e&&!Array.isArray(e)&&null!==e)return e;if(Array.isArray(e))return e.reduce(r(null),{});throw new TypeError("invalid arguments, objectify takes an object or an array")},r=function(r){return r=void 0===r?null:r,function(e,t){return e[t]=r,e}},d=function(e,t){function r(e,t){return-1===e.indexOf(t)}var i=e.filter(r.bind(null,t));return e=t.filter(r.bind(null,e)),i.concat(e)},n=function(e){return!isNaN(e)&&"number"==typeof e},a=function(e){return parseFloat(e)===parseInt(e,10)&&n(e)},ne.Ba=function(i,n,o){if(!a(i))throw new TypeError("arg 0 of updateCopyAndHref must be an integer");if(!("object"==typeof Node?n instanceof Node:n&&"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName))throw new TypeError("arg 1 of updateCopyAndHref must be DOM element");if(!Array.isArray(o))throw new TypeError("arg 2 of updateCopyAndHref must be an array");ne.H.TEXT_FIELDS.forEach(function(e){for(var t=n.getElementsByClassName(""+ne.H.TL_CLASS_PREFIX+e),r=0;r<t.length;r++)t[r].textContent=o[i][e]});for(var e=n.getElementsByClassName(ne.H.TL_CLASS_PREFIX+"clickthrough-url"),t=0;t<e.length;t++)e[t].href=o[i].clickthrough_url},ne.Ca=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m=function(e,t){return isNaN(e)&&isNaN(t)?NaN:isNaN(e)?t:isNaN(t)?e:Math.min(e,t)},ne.Ea=function(i,n){var o=!1;return function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];o||i.apply(n||null,t),o=!0}},ce=function(e,t){Math.random()<e&&t()},le=function(e,t,r,i,n){return r=void 0===r?{}:r,n=void 0===n?"?":n,!1!==(void 0===i||i)&&(r.cb=ne.Ha(5)),r=o(r),r=s(r),e=e.replace(/\/$/,""),y("//"+e+"/"+t+n+r)},o=function(r){var i={};return Object.keys(r).forEach(function(e){var t=r[e];null!=t&&(i[e]=t)}),i},ne.Ha=function(e){return e<1?NaN:1===e?Math.floor(10*Math.random()):(e=Math.pow(10,e-1),Math.floor(9*Math.random()*e)+e)},s=function(t){return Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},ue=function(e){var i=ue.options;e=i.parser[i.strictMode?"strict":"loose"].exec(e);for(var n={},t=14;t--;)n[i.key[t]]=e[t]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(e,t,r){t&&(n[i.q.name][t]=r)}),n},c=function(e){if(!e)return e;var t="";return""!==(e=ue(e)).port&&(t=":"+e.port),"//"+e.host+t+e.relative},l=function(e){if(0<=e.indexOf("3lift.")||0<=e.indexOf("triplelift."))return"https:";if("http"===(e=ue(e)).protocol||"https"===e.protocol)return e.protocol+":";try{return window.location.protocol}catch(e){return"https:"}},y=function(e){return e&&"data:"!==e.substring(0,5)?l(e)+c(e):e},p=function(e){return(void 0===e?"":e).toUpperCase()},h=function(e,n){return n=void 0===n?"GET":n,new Promise(function(t,r){var i=new XMLHttpRequest;i.open(n,e,!0),i.addEventListener("load",function(e){200<=i.status&&i.status<300?t(e):r(i.statusText)}),i.addEventListener("error",function(e){return r(e)}),i.send()})},de=function(i){return Object.keys(i).reduce(function(e,t){var r=i[t];return e[t]="number"==typeof r?Math.round(r):r,e},{})},g=function(e){return ne.F.setStyle(e,"display","none"),ne.F.setStyle(e,"width",0),ne.F.setStyle(e,"height",0),e},pe=function(e,t,r){(r=r.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(r)},v=function(t){t=void 0===t?{}:t;var r={};return Object.keys(t).forEach(function(e){r[e]=encodeURIComponent(t[e])}),r},ne.Za=function(e){if(!e)return NaN;var t=e.split(".");return e=t[0].split(":"),t=parseInt(t[1],10)||0,36e5*parseInt(e[0],10)+6e4*parseInt(e[1],10)+1e3*(e=parseInt(e[2],10))+t},ne.$a=function(i,n){var o,a=0;return function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];o&&clearTimeout(o),o=setTimeout(i.bind.apply(i,[null].concat(ne.m.arrayFromIterable(t))),n),r=Date.now(),n<r-a&&(a=r,i.apply(null,ne.m.arrayFromIterable(t)))}},_=function(e,t){return e.split("&").filter(function(e){return-1===e.indexOf(t+"=")}).join("&")},I=function(t,r){return!!t&&(Object.keys(t).forEach(function(e){r(e,t[e])}),!0)},A=function(e,t){if(!e)return!1;for(var r=0;r<e.length;r++)if(t(e[r]))return e[r];return!1},b=function(e,t){if(!e)return!1;for(var r=[],i=0;i<e.length;i++)t(e[i])&&r.push(e[i]);return r},ne.eb=function(t,e){if(!Array.isArray(t)||0===e)return[];if(t.length<e)return t;for(var r=t.slice(),i=[],n=0;n<e;n++)i.push(t.indexOf(r.splice(Math.floor(Math.random()*r.length),1)[0]));return i.sort().map(function(e){return t[e]})},w=function(e){var t=e;return ne.H.DISPLAY_CLICK_MACROS.forEach(function(e){(e=e.regex).test(t)&&(t=t.replace(e,""))}),t},he=function(e,t){var r=e.environment,i=t.creative,n=t.lifecycleManager,o=t.thirdPartyAnalytics,a=t.firePix,s=t.errorHandler;t=t.asyncUtil,this.pageInfo=e.pageInfo,this.environment=r,this.asyncUtil=t,this.creative=i,this.priceMacroValue=i.params.additional_data.pr,this.lifecycleManager=n,this.thirdPartyAnalytics=o,this.firePix=a,this.fireEB=a.fireEB.bind(a),this.errorHandler=s,this.viewedCreativeElements={},this.hasFired={render:!1,play:!1,playAttempt:!1,onePxViewable:!1,viewable:!1},this.loadCreativeParams()},M=function(){this.allRenderedAssets=M.allRenderedAssets},E=function(e,t){var r=e.auctionIframe,i=t.eventController,n=t.serveDefault,o=t.firePix,a=t.errorDecorator;t=t.errorHandler,this.placement=e.placement,this.auctionIFrameWindow=r.contentWindow,this.eventController=i,this.defaultServer=n,this.firePix=o,this.errorDecorator=a,this.errorHandler=t,this.isUnitGenerated=!1},C=function(e,t){this.config=e,this.dependencies=t,this.eventController=t.eventController},T=function(e,t){var r=e.environment,i=e.specifiedTacticId,n=e.isAdServing,o=e.rev,a=e.gdpr,s=e.docInfo,c=t.pageInfo,l=t.asyncUtil;t=t.urlParams,this.placement=e.placement,this.environment=r,this.urlParams=t,this.pageInfo=c,this.docInfo=s,this.asyncUtil=l,this.isAdServing=n,this.rev=o,this.specifiedTacticId=i,this.gdpr=a},S=function(e,t){var r=e.docInfo,i=e.browserInfo,n=e.isAdServing,o=e.auctionIframe,a=t.serveDefault,s=t.errorHandler,c=t.eventController;t=t.asyncUtil,this.placement=e.placement,this.docInfo=r,this.browserInfo=i,this.isAdServing=n,this.auctionIframe=o,this.serveDefault=a,this.errorHandler=s,this.eventController=c,this.asyncUtil=t},D=function(e,t){var r=t.hookFinder.getDtjTacticId();e.isAdServing=!!r,e.specifiedTacticId=t.urlParams.tlDynId||r,C.call(this,e,t),this.config=e,this.dependencies=t,this.placement=e.placement,this.serveDefault=t.serveDefault,this.asyncUtil=t.asyncUtil},P=function(e,t){C.call(this,e,t),this.auctionIframe=e.auctionIframe,this.headerBiddingAuctionResponse=e.headerBiddingAuctionResponse},fe=function(e,t){this.config=e,this.dependencies=t},me=function(e){this.userAgent=e},ge=function(){ne.p(this,"_auctionIframe",null)},O=function(t){return"object"==typeof t&&Bt.every(function(e){return typeof t[e.field]===e.type&&t[e.field].length>=e.minLength})},N=function(e){this.creativeComponents=e.ad.creativeComponents},L=function(e){this.assets=e.assets,this.eventTrackers=e.eventtrackers||[],this.link=e.link?e.link.url:null,this.privacy=e.privacy||null},x=function(e,t){if(ne.H.DCO_PROTOCOLS.DYNAMIC_CONTENT===t)return new N(e);if(ne.H.DCO_PROTOCOLS.NATIVE_ADS===t)return new L(e);throw new se("invalid dco_protocol")},R=function(e,t){e=Vt(e,t).getAllComponents(),t={};try{if(t.asset_id=-1,t.image_id=-1,t.img_server_params="",t.heading=e.getHeading(),t.caption=e.getCaption(),t.image_url=e.getImageUrl(),t.logo_image_url=e.getLogoUrl(),t.clickthrough_url=e.getClickthroughUrl(),t.impression_pixels=e.getImpPixels(),t.clickthrough_pixels=e.getClickPixels(),t.viewability_pixels=e.getViewPixels(),t.js_trackers=e.getJsTrackers(),t.privacy_url=e.getPrivacyUrl(),!Ft(t))throw new se("asset does not meet requirements")}catch(e){throw new se("dco asset invalid: "+(e.message||e))}return t},ye=function(e,t){var r=this,i=e.assets,n=e.settings;e=e.frame,t=t.errorHandler,ne.p(this,"mapPayloadToAssetAndMergeTrackers",function(e){return Wt(e,r.settings.dco_protocol)}),ne.p(this,"errAndFallBackOrDefault",function(e){return e=e.toString(),Ft(r.assets&&r.assets[0])?(r.errorHandler.fireError(e,r.errorHandler.WARNING,{dco_tag_url:r.settings.dco_tag_url}),{asset:r.assets[0],isFallback:Ht.FALLBACK}):(r.errorHandler.fireError(e,r.errorHandler.ERROR,{dco_tag_url:r.settings.dco_tag_url}),{})}),this.assets=i,this.frame=e,this.settings=n,this.errorHandler=t},ve=function(e){this.window=e=e.scriptWindow,this.document=e.document;try{this.topDocument=top.document,this.topWindow=top,this.canAccessTop=!0}catch(e){this.topDocument=window.document,this.topWindow=window,this.canAccessTop=!1}},_e=function(e){var t=e.bundleRoot,r=e.cookieDomain,i=e.dynamicPath,n=e.ebPath,o=e.formats,a=e.numUserSyncPixels,s=e.qaHost,c=e.renderOptionsMap,l=e.tlImageAddr,u=e.tlxHost,d=e.ttjHostName;this._adserverHostName=e.adserverHostName,this._bundleRoot=t,this._cookieDomain=r,this._dynamicPath=i,this._ebPath=n,this._formats=o,this._numUserSyncPixels=a,this._qaHost=s,this._renderOptionsMap=c,this._tlImageAddr=l,this._tlxHost=u,this._ttjHostName=d},Ie=function(){ne.p(this,"events",{})},Ae=function(e,t){var r=e.rev,i=e.placement,n=e.debugFlag,o=e.ebPath;t=t.eventController,this.docInfo=e.docInfo,this.rev=r,this.placement=i,this.debugFlag=n,this.ebPath=o,this.eventController=t,this.auctionId=null,this._setupListeners()},be=function(e,t){t=t.errorDecorator,this.auctionFrameWindow=e.auctionFrameWindow,this.decorator=t,this.thirdPartyMessage=!1},we=function(e,t){var r=e.environment,i=e.docInfo,n=e.settings;t=t.errorHandler,this.placement=e.placement,this.docInfo=i,this.environment=r,this.errorHandler=t,this.settings=n,this.cachedHook=this.tlScript=null},Me=function(){},Ee=function(){try{jQuery(),this.jQueryPresent=!0}catch(e){this.jQueryPresent=!1}},j=function(){var r=jQuery(".masonry");r.length||(r=null),r&&1<r.length&&(r=jQuery(r[0])),r||jQuery.each(jQuery.find("*"),function(e,t){jQuery.data(t,"masonry")&&(r=jQuery(t))}),r&&r.data("masonry")&&(r.masonry("reloadItems"),r.masonry())},Ce=function(e){var t=this;e=e.eventController,ne.p(this,"phase","auction"),e.on("auctionResponse",function(){return t.setPhaseAfterAuction()})},k=function(e){var t=void 0===e.defaultCaptionOverride?"":e.defaultCaptionOverride,r=void 0===e.defaultHeadingOverride?"":e.defaultHeadingOverride,i=void 0!==e.disableOutstreamVideoBehavior&&e.disableOutstreamVideoBehavior,n=e.disclosureOverride,o=void 0!==e.dontWaitForImageLoad&&e.dontWaitForImageLoad,a=void 0!==e.friendlyIframeRender&&e.friendlyIframeRender,s=void 0!==e.is3pAdPreview&&e.is3pAdPreview,c=void 0!==e.isAmp&&e.isAmp,l=void 0===e.maxUserSyncs?10:e.maxUserSyncs,u=void 0===e.numCreatives?1:e.numCreatives,d=void 0===e.playButtonUrl?"":e.playButtonUrl,p=void 0!==e.postBidIpvAutoplay&&e.postBidIpvAutoplay,h=void 0===e.referrerOverride?[]:e.referrerOverride,f=void 0!==e.uniqueBrands&&e.uniqueBrands,m=void 0!==e.uniqueCreatives&&e.uniqueCreatives,g=void 0!==e.unwrappedUnit&&e.unwrappedUnit,y=void 0!==e.userSyncsDisabled&&e.userSyncsDisabled,v=void 0===e.verboseCreativeResponseToggle?void 0:e.verboseCreativeResponseToggle,_=void 0===e.videoZIndexOverride?null:e.videoZIndexOverride;this._activeView=void 0!==e.activeView&&e.activeView,this._defaultCaptionOverride=t,this._defaultHeadingOverride=r,this._disableOutstreamVideoBehavior=i,this._disclosureOverride=n,this._dontWaitForImageLoad=o,this._friendlyIframeRender=a,this._is3pAdPreview=s,this._isAmp=c,this._maxUserSyncs=l,this._numCreatives=u,this._playButtonUrl=d,this._postBidIpvAutoplay=p,this._referrerOverride=h,this._uniqueBrands=f,this._uniqueCreatives=m,this._unwrappedUnit=g,this._userSyncsDisabled=y,this._verboseCreativeResponseToggle=v,this._videoZIndexOverride=_},Te=function(e){var t=e.captionCharacterLimit,r=e.headingCharacterLimit,i=e.cta,n=void 0===e.customOptions?{}:e.customOptions,o=e.defaultCode,a=e.demandEnabled,s=e.dvPlacementId,c=e.disclosure,l=void 0===e.id?0:e.id,u=e.iframeBuster,d=e.iframeWrap,p=e.imageHeight,h=e.imageWidth,f=e.invCode,m=e.logoBlackList,g=e.provenTemplate,y=void 0===e.publisherId?0:e.publisherId,v=e.replaceParent,_=e.sharingEnabled,I=e.staging,A=e.templateCode,b=e.templates,w=void 0===e.timeoutDuration?1e4:e.timeoutDuration,M=void 0===e.viewabilityTestingInfo?{}:e.viewabilityTestingInfo;this._async=e.async,this._captionCharacterLimit=t,this._headingCharacterLimit=r,this._cta=i||Te.DEFAULT_CTA,this._customOptions=new k(Object.assign({},n)),this._defaultCode=o,this._demandEnabled=a,this._disclosure=c||Te.DEFAULT_DISCLOSURE,this._dvPlacementId=s,this._id=l,this._iframeBuster=u,this._iframeWrap=d,this._imageHeight=p,this._imageWidth=h,this._invCode=f,this._logoBlackList=m,this._provenTemplate=g,this._publisherId=y,this._replaceParent=v,this._sharingEnabled=_,this._staging=I,this._templateCode=A,this._templates=b,this._timeoutDuration=w,this._viewabilityTestingInfo=M},U=function(e){var t=document.createElement("SCRIPT");t.text=e.innerHTML;for(var r=e.attributes.length-1;0<=r;r--)t.setAttribute(e.attributes[r].name,e.attributes[r].value);return t},F=function(e){if("SCRIPT"===e.tagName&&"tl-third-party"!==e.className)e.parentNode.replaceChild(U(e),e);else for(var t=0,r=e.childNodes;t<r.length;)F(r[t++]);return e},Se=function(e){this.document=e.document,this.window=e.window},De=function(e,t){var r=e.docInfo,i=e.defaultCode,n=e.pageInfo,o=t.firePix;t=t.asyncUtil,this.hookFinder=e.hookFinder,this.docInfo=r,this.defaultCode=i,this.pageInfo=n,this.firePix=o,this.asyncUtil=t,this.userSync=null,this.adRendered=this.hasDefaulted=!1},Pe=function(e){this._settings=e=void 0===e?{}:e},Oe=function(e){this._errorHandler=e,this._templateDetail={string:""},this._templateWrapEl=this._chosenTemplate=null,this._templateId=0},ne.Zb=function(e){var t=e.auctionID,r=e.creative,i=e.placement,n=e.context;e=e.asyncUtil,ne.p(this,"moatApi",void 0),ne.p(this,"cachedEvents",[]),this._auctionID=t,this._creative=r,this._placement=i,this._context=n,this._asyncUtil=e,this._fireCachedEvent=this._fireCachedEvent.bind(this)},B=function(e,t){var r=e.placement,i=e.mainImage,n=e.adDIV,o=void 0===e.tacticDetails?{}:e.tacticDetails,a=e.formatId,s=t.creative;t=t.firePix,this.docInfo=e.docInfo,this.placement=r,this.mainImage=i,this.viewabilityElement=this.adDIV=n,this.creative=s,this.tacticDetails=o,this.formatId=a,this.firePix=t},Ne=function(e,t){var i=this,r=e.docInfo;e=e.placement;var n=t.creative,o=t.auctionIframeWriterOverride,a=t.firePix,s=t.errorHandler;t=t.eventController,ne.p(this,"firePix",void 0),ne.p(this,"auctionIframeWriterOverride",void 0),ne.p(this,"macros",void 0),ne.p(this,"docInfo",void 0),ne.p(this,"placement",void 0),ne.p(this,"errorHandler",void 0),ne.p(this,"creative",void 0),ne.p(this,"creativeParams",void 0),ne.p(this,"shouldWaitForPassthru",!0),ne.p(this,"passthruClickTracker",null),ne.p(this,"passthruTimer",null),ne.p(this,"thirdPartyJS",null),ne.p(this,"hasBilled",!1),ne.p(this,"isCachedAppendJsEvent",!1),ne.p(this,"numClicks",0),ne.p(this,"cachedTrackers",[]),this.docInfo=r,this.placement=e,this.creative=n,this.creativeParams=n.getParams(),this.firePix=a,this.auctionIframeWriterOverride=o,this.errorHandler=s,t.on("passthru",function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];return i.passthru.apply(i,ne.m.arrayFromIterable(t))})},Le=function(e){var t=e.environment,r=e.gdpr,i=e.topWindow,n=e.debugFlag;this.placement=e.placement,this.environment=t,this.gdpr=r,this.window=i,this.debugFlag=n,this.tlSyncDone=!1,this.window._tlTagsPending=(this.window._tlTagsPending||0)+1,this.placement.customOptions.userSyncsDisabled&&(this.tlSyncDone=!0)},xe=function(e){this.errorDecorator=e},Re=function(e,t){var r=e.docInfo,i=t.positionService,n=t.errorHandler,o=t.eventController;t=t.asyncUtil,this.placement=e.placement,this.document=r.document,this.window=r.window,this.positionService=i,this.errorHandler=n,this.eventController=o,this.asyncUtil=t,this.listeners=[],this.listenerTimeoutId=0},je=function(e,t){var r=e.settings,i=void 0===e.ttjStartTime?0:e.ttjStartTime,n=e.revision;e=e.isTestEnv,t=t.firePix,this.ttjStartTime=i,this.revision=n,this.firePix=t,this.formatId=null,this.isHeaderBidding=!1,this.lastMetricTime=0,this.shouldLog=0<i&&!e&&Math.random()<=r.benchmarkLogRate},V=function(e,t){for(t=parseInt(t,10),isNaN(t)&&(t=1);t--;)e=encodeURIComponent(e);return e},W=function(e,t,r){var i=e.focalBox,n={};return i?(n.x1=Math.round(i.x1/e.image_width*t),n.x2=Math.round(i.x2/e.image_width*t),n.y1=Math.round(i.y1/e.image_height*r),n.y2=Math.round(i.y2/e.image_height*r),n):null},H=function(e,t){return t&&e.find(function(e){return t===e.image_id})||null},z=function(e,t){t=parseInt(t,10);var r=e;if(!e||!t||t<3)return e;var i=e.match(/(.*)(<a.*>)(.*)(<\/a>)(.*)/);if(i){e=i[1],r=i[2];var n=i[3],o=i[4];return i=i[5],(t=e.length+n.length+i.length-t+3)<=3||(i=t<=i.length?i.substr(0,i.length-t)+"...":(t<=i.length+n.length?(t-=i.length,n=n.substr(0,n.length-t)+"..."):(t-=i.length+n.length,e=e.substr(0,e.length-t)+"...",o=n=r=""),"")),e+r+n+o+i}return t<e.length&&(r=e.substr(0,t-3)+"..."),r},Q=function(e){var t=e.creativePayload,r=e.environment,i=e.placement,n=e.pageInfo,o=e.isSmallScreen,a=e.clickTrackerDTJ,s=e.debug,c=e.templateDetail,l=e.tlImageId;e=e.errorHandler,ne.p(this,"firePix",void 0),ne.p(this,"params",null),ne.p(this,"creativePayload",null),ne.p(this,"formatId",null),ne.p(this,"environment",null),ne.p(this,"placement",null),ne.p(this,"isSmallScreen",null),ne.p(this,"clickTrackerDTJ",null),ne.p(this,"pageInfo",null),ne.p(this,"debug",!1),this.creativePayload=t,this.formatId=t.settings.format_id,this.environment=r,this.placement=i,this.isSmallScreen=o,this.clickTrackerDTJ=a,this.pageInfo=n,this.debug=s,this.templateDetail=c,this.tlImageId=l,this.params=null,this.errorHandler=e,this.initParams()},Y=function(){Q.apply(this,arguments)},G=function(e){Q.call(this,e),this.vastTag=null},ke=function(){},Ue=function(e,t){t=t.errorHandler,this.creativePayload=e,this.iframe=Ue.makeIframe(),this.errorHandler=t},Fe=function(e,t){ne.p(this,"cmpTimeout",void 0),this.win=e,this._gdprCmpData=null,this._isProxyNeeded=t},Be=function(e){var t=e.placement;this.docInfo=e.docInfo,this.placement=t,this.cachedApis={},this.cachedFrameType=this.cachedPageInfo=null},Z=function(t,e){return t=void 0===t?{}:t,{setAdContainer:function(e){t.adContainer=e},getElDims:function(e){if(!e)throw new se("getElDims: no element present");return{width:(e=e.getBoundingClientRect()).width,height:e.height}},_publishUpdate:function(){e.publish("positionUpdate")}}},q=function(e,t){var r=e.width,i=e.height;return Math.max(0,(r+Math.min(0,e.left)+Math.min(0,t.width-e.right))*(i+Math.min(0,e.top)+Math.min(0,t.height-e.bottom))/(r*i))},J=function(){return{width:0,height:0,x:0,y:0,top:0,bottom:0,left:0,right:0}},X=function(e,t){return{width:e.width,height:e.height,x:e.x+t.x,y:e.y+t.y,top:e.top+t.top,bottom:e.bottom+t.top,left:e.left+t.left,right:e.right+t.left}},K=function(e,t){function r(){return o.adContainer.getBoundingClientRect()}function i(e){return e.getBoundingClientRect()}function n(){return{width:e.win.innerWidth,height:e.win.innerHeight}}var o={getAdBoundingRect:r,getBoundingRect:i,getClientDims:n,getAdPctInView:function(){return hr.getRectPctInView(r(),n())},getElPctInView:function(e){return hr.getRectPctInView(i(e),n())}};return t=pr(o,t),e.asyncUtil.addScrollListener(e.win,t._publishUpdate),f({},t,o)},$=function(){function t(e){return e=e.getBoundingClientRect(),i?hr.sumRects(e,i):e}var r={width:0,height:0},i=hr.getDefaultBoundingClientRect();return{getAdBoundingRect:function(){return i},getBoundingRect:t,getClientDims:function(){return r},getAdPctInView:function(){return hr.getRectPctInView(i,r)},getElPctInView:function(e){return hr.getRectPctInView(t(e),r)},_update:function(e,t){i=e,r=t}}},ee=function(e,t){function i(e,t,r){return!e.some(function(e){return t[e]!==r[e]})}var n=pr({},t),o=mr();return e.win._tlWebViewUpdatePosition=function(e,t){if(e&&t){var r=o.getAdBoundingRect();r=!i(yr,r,e)||(r=o.getClientDims(),!i(vr,r,t))}else r=!1;r&&(o._update(e,t),n._publishUpdate())},f({},n,o)},te=function(e,t){var r=pr({},t),i=mr();return e.pageInfo.getAmpApi().observeIntersection(function(e){e.forEach(function(e){i._update(e.boundingClientRect,{width:e.rootBounds.width,height:e.rootBounds.height}),r._publishUpdate()})}),f({},r,i)},re=function(e){var h=e.pageInfo.getMraidApi(),f=e.errorHandler;return Object.keys(Ar).reduce(function(e,t){var i,n,o,a,s,r,c,l,u,d=h[t],p=Ar[t];return p.validator&&(i=h,n=d,o=p.validator,d=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];if(t=n.apply(i,t),!o(t))throw new se("validation failed");return t}),a=h,s=d,r=t,c=p.defaultReturn,l=ne.Ea(f.fireError,f),u="mraid api error. function: "+r+", e: ",d=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];try{var i=s.apply(a,t)}catch(e){l(u+e,"mraid"),i=c}return i},e[t]=d,e},{})},ie=function(e){return"string"==typeof e},Ve=function(e){return"boolean"==typeof e},We=function(e){return"number"==typeof e.width&&"number"==typeof e.height&&"number"==typeof e.x&&"number"==typeof e.y},He=function(e){return"number"==typeof e.width&&"number"==typeof e.height},ze=function(e,t){function r(){c.fireDyn({long1:2e3,string2:u.getVersion(),string3:s.invCode}),"3.0"===u.getVersion()&&u.addEventListener("exposureChange",i),u.addEventListener("viewableChange",n)}function i(e){h=e/100,o()}function n(e){e&&l.onePxViewable(),"3.0"!==u.getVersion()&&(o(),e?a=setInterval(o,200):clearInterval(a))}function o(){var e=u.getCurrentPosition(),t=u.getScreenSize();p._update({width:e.width,height:e.height,x:e.x,y:e.y,top:e.y,bottom:e.y+e.height,left:e.x,right:e.x+e.width},t),d._publishUpdate()}var a,s=e.placement,c=e.firePix,l=e.analytics,u=Ir(e),d=pr({},t),p=mr(),h=0;return"loading"===u.getState()?u.addEventListener("ready",r):r(),f(d,p,{getAdPctInView:function(){return"3.0"===u.getVersion()?h:p.getAdPctInView()}})},Qe=function(e,t){var r=e.placement,i=e.pageInfo.getSafeFrameApi(),n=pr(e={getAdBoundingRect:function(){throw new se("getAdBoundingRect is not supported in a safeFrame environment")},getBoundingRect:function(){throw new se("getBoundingRect is not supported in a safeFrame environment")},getClientDims:function(){throw new se("getClientDims is not supported in a safeFrame environment")},getAdPctInView:function(){return i.ext.inViewPercentage()/100},getElPctInView:function(){throw new se("getElPctInView is not supported in a safeFrame environment")}},t);return t=i.ext.geom(),i.ext.register(t.self.w,t.self.h,function(e){"geom-update"===e&&n._publishUpdate()}),4913===r.publisherId&&setInterval(function(){n._publishUpdate()},1e3),f({},n,e)},Ye=function(e,t){function r(){var e=s.adContainer.ownerDocument.defaultView?s.adContainer.ownerDocument.defaultView.frameElement:null;return e?e.getBoundingClientRect():hr.getDefaultBoundingClientRect()}function i(e){e=e.getBoundingClientRect();var t=r();return hr.sumRects(e,t)}function n(){var e=a.top;return{width:e.innerWidth,height:e.innerHeight}}var o=e.asyncUtil,a=e.win,s={getAdBoundingRect:r,getBoundingRect:i,getClientDims:n,getAdPctInView:function(){return hr.getRectPctInView(r(),n())},getElPctInView:function(e){return hr.getRectPctInView(i(e),n())}};return e=pr(s,t),o.addScrollListener(a.top,e._publishUpdate),f({},e,s)},Ge=function(e,t){var r=e.pageInfo;if(e=r.isMraid()?br(e,t):r.isWebview()?gr(e,t):r.isAmp()?_r(e,t):r.isSafeFrame()?wr(e,t):r.isFriendlyFrameRender()?Mr(e,t):fr(e,t),0<(t=d(Object.keys(e),Cr)).length)throw new se("positionService invalid. Unmatched keys: "+t.join(", "));return e},Ze=function(e){var t=u(e.supportedDomRefs);return e=u(e.initState),Object.seal(t),Object.seal(e),{domRefs:t,state:e,csrOptions:{},promises:[]}},qe=function(e){var t=e.creative,r=e.eventController;e=e.asyncUtil,this.creative=t,this.eventController=r,this.asyncUtil=e,this.params=t.getParams(),this.adchoicesUrl=this.params.adchoices_url},Je=function(e){var r=e.creative,o=e.errorHandler;return{get:function(e){e=function(i){var n=document.createElement("iframe");ne.F.setStyle(n,"display","none"),document.body.appendChild(n);try{var e=n.contentWindow.document;e.open(),e.close()}catch(e){o.fireError("Logo Placement: Attempted to open iframe document but failed.",o.WARNING)}return n.contentWindow.updateLogoZones=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];i.apply(null,ne.m.arrayFromIterable(t)),ne.Ca(n)},n}(e);var t=document.createElement("script");t.src=r.params.image_url.replace("/?","/lp?"),e.contentWindow.document.body.appendChild(t)}}},Xe=function(e){var r=this,t=e.creative,i=e.placement,n=e.browserInfo,o=e.state,a=e.errorHandler;this.domRefs=e.domRefs,this.creative=t,this.placement=i,this.browserInfo=n,this.state=o,this.toConfig=this.toConfig.bind(this),this.errorHandler=a,e={},this.corners=(e[Dr]=null,e[Pr]=null,e[Or]=null,e[Nr]=null,e),this.elements=[{name:"muteButton",isNeeded:function(){return!!r.domRefs.muteButton},getCorner:function(){return r.getMuteCorner()},getElement:function(){return r.domRefs.muteButton.getEl()},getOffsets:function(){return r.getMuteOffsets()}},{name:"revealTrigger",isNeeded:function(){return!!r.domRefs.revealTrigger},getCorner:function(){return r.getRevealCorner()},getElement:function(){return r.domRefs.revealTrigger},getOffsets:function(){return r.getDefaultOffsets()},getCallback:function(e,t){return r.getRevealCallback(e,t)}},{name:"logo",isNeeded:function(){return r.needsLogo()},getCorner:function(){return r.getLogoCorner()},getElement:function(){return r.domRefs.logo||r.domRefs.videoLogo},getOffsets:function(){return r.getLogoOffsets()}},{name:"adchoices",isNeeded:function(){return r.needsAdChoices()},getElement:function(){return r.domRefs.adchoices},getCorner:function(){return r.getAdChoicesCorner()},getOffsets:function(){return r.getDefaultOffsets()},getCallback:function(e,t){return r.getAdChoicesCallback(e,t)}}]},Ke=function(e,t,r){ne.F.setStyleProperties(e,[["top",r],["right","auto"],["bottom","auto"],["left",t]])},$e=function(e,t,r){ne.F.setStyleProperties(e,[["top",r],["right",t],["bottom","auto"],["left","auto"]])},et=function(e,t,r){ne.F.setStyleProperties(e,[["top","auto"],["right",t],["bottom",r],["left","auto"]])},tt=function(e,t,r){ne.F.setStyleProperties(e,[["top","auto"],["right","auto"],["bottom",r],["left",t]])},ne.xd=function(e,t){return e.getBaseZIndex()+t},rt=function(t,r){function e(r,e){return o.reduce(function(e,t){return e.concat(t[r])},t[r]).concat(e)}var i,n=r.positionService,o=r.featureConfigs,a={initState:(i=o.reduce(function(e,t){return Object.assign(e,t.initState)},u(t.initState)),Object.assign({},Wr,i)),supportedDomRefs:e("supportedDomRefs",Hr)},s=Tr(a),c=e("renderers",zr),l=e("eventManagers",Qr);return{render:function(){c.forEach(function(e){return e(r).render(s)}),n.setAdContainer(s.domRefs.adWrapperWithDims);var e=d(Object.keys(s.domRefs),a.supportedDomRefs);if(0<e.length)throw new se("domRefs invalid. Unmatched keys: "+e.join(", "));return Object.freeze(s.domRefs),l.forEach(function(e){return new e(r).init(s)}),Promise.all(s.promises).then(function(){return s})},context:s}},it=function(){},nt=function(e){var t=e.adWrapper,r=e.creative,i=e.analytics,n=e.asyncUtil;e=(e=r.getVastTag())&&e.getVastClickThroughUrl(),t=[].slice.call(t.getElementsByClassName("tl-cta")),r.params.clickthrough_url||e?t.forEach(function(e){n.listen(e,"click",function(){i.fireEEE("click_cta")})}):t.forEach(ne.Ca)},ot=function(e){function n(e){return e.sort(function(e,t){var r="none"===(e&&e.style&&e.style.display),i="none"===(t&&t.style&&t.style.display);return r&&i||!r&&!i?(e=e.width*e.height,t=t.width*t.height,isNaN(e)?1:isNaN(t)?-1:t-e):r?1:-1})[0]}function o(t){var e=[p.image_url,r.tlImageAddr];return t.src&&e.some(function(e){return-1!==t.src.indexOf(e)})}function a(e){return(e=e&&e.tagName)&&e.toLowerCase&&e.toLowerCase()}var r=e.environment,s=e.placement,c=e.creative,l=e.templateCode,u=e.analytics,d=e.asyncUtil,p=c.getParams(),h=null,f=null;return{render:function(e){f=e.domRefs;var t,r,i=it.build(l.templateDetail.string,p,s);if(i=function(e){function t(e){return"script"===a(e)}var r=document.createElement("div");r.innerHTML=e,r.style.display="inline",r.className="tlod";var i=A(r.children,function(e){return-1===Gr.indexOf(a(e))});return{adWrapper:function(){if(s.customOptions.unwrappedUnit){b(r.children,t).forEach(function(e){i.appendChild(e)});var e=i}else e=r;return e.setAttribute("plid",s.id),l.templateId&&e.setAttribute("tlid",l.templateId),e}(),adWrapperWithDims:i}}(i),f.adWrapper=i.adWrapper,f.adWrapperWithDims=i.adWrapperWithDims,h||(i=f.adWrapper.getElementsByTagName("img"),i=b(i,o),h=n(i)||(t=f.adWrapper.getElementsByTagName("*"),r=ue(p.image_url),A(t,function(e){var t=e.style&&e.style["background-image"];return e=e.hasAttribute&&e.hasAttribute("data-background"),t&&t.match(r.query)||e&&e.match(r.query)}))),"div"===a(f.mainImage=h)&&(e.state.isBackgroundImage=!0),"img"===a(h)&&p.image_srcset_2x&&!h.getAttribute("srcset")&&s.imageWidth<=600&&s.imageHeight<=600&&h.setAttribute("srcset",p.image_srcset_2x),qr.init(f.adWrapper,c),Zr.init({adWrapper:f.adWrapper,creative:c,analytics:u,asyncUtil:d}),Jr.init(f.adWrapper,c),!p.clickthrough_url)for(e=f.adWrapper.getElementsByClassName("tl-clickthrough-url"),i=0;i<e.length;i++)e[i].removeAttribute("href"),e[i].removeAttribute("target");e=f.adWrapper.getElementsByClassName("tl_clickthrough")[0],f.mainClickTarget=e||f.adWrapperWithDims},_bestImage:n}},at=function(e){var i=e.placement;return{render:function(e){var t=e.domRefs.mainImage,r=t&&(t.complete||0<t.naturalWidth);i.customOptions.dontWaitForImageLoad&&(r=!0),t&&"IMG"===t.tagName&&!r&&e.promises.push(new Promise(function(e){t.addEventListener("load",e)}))}}},ne.Md=function(e){function s(){g.publish("csrReady"),o()}function o(){c&&g.publish("csrUpdate",function(){if(!c)return{width:0,height:0};c.style.setProperty("display","","important");var e=c.ownerDocument.defaultView,t=e?e.getComputedStyle(c):getComputedStyle(c);return r=l,i=t,"width height float margin margin-top margin-right margin-bottom margin-left max-width max-height padding padding-top padding-right padding-bottom padding-left border border-top border-right border-bottom border-left".split(" ").forEach(function(e){i[e]&&r.style.setProperty(e,i[e],"important")}),""===i.position||"static"===i.position?r.style.setProperty("position","relative","important"):r.style.setProperty("position",i.position,"important"),e=parseFloat(t.width),t=parseFloat(t.height),c.style.setProperty("display","none","important"),{width:e,height:t};var r,i}())}function a(e,t){var r=document.createElement("div"),i=t.customOptions.is3pAdPreview?"cover":"contain";return r.style.setProperty("width",t.imageWidth+"px","important"),r.style.setProperty("height",t.imageHeight+"px","important"),r.style.setProperty("background-size",i,"important"),r.style.setProperty("background-position","center","important"),r.style.setProperty("background-repeat","no-repeat","important"),r.style.setProperty("background-image","url("+e+")","important"),r}var c,l,u,d=e.placement,p=e.environment,h=e.creative,f=e.browserInfo,m=e.asyncUtil,g=e.eventController;return{render:function(e){var t=(e=u=e).domRefs;if(e.state.isBackgroundImage&&(h.isImage()||h.isCinemagraph()))t.mainImageCsrEl=t.mainImage;else{if(e=t.mainImage,!t.mainImageCsrEl){var r=e.src,i=h.getParams().render_options_bm;r=ne.oa(i,p.renderOptionsMap.gda_iframe)?(r=h.getParams().allImages[0].img_frame,(i=document.createElement("div")).innerHTML=r,i.firstChild):a(r,d),t.mainImageCsrEl=r}(l=t.mainImageCsrEl).classList.add("tl-csr"),t=c=function(e,t,r,i,n,o){i=void 0===i?"":i,n=void 0===n?"":n;var a=o.createElement("img");return a.className=i+" tl-dummy-img",a.id=n,a.style.setProperty("display","none","important"),f.isIE?a.onload=function(){m.timeoutWrap(s,0)}:u.promises.push(new Promise(function(e){a.onload=function(){s(),e()}})),a.src=y("//"+e+"/blank?width="+t+"&height="+r),a}(p.tlImageAddr,d.imageWidth,d.imageHeight,e.className,e.id,document),r=void 0===(r=e.style)?{}:r,i=0;for(var n;r[i];)n=r[i],t.style.setProperty(n,r[n],"important"),i++;e.parentNode.insertBefore(c,e),m.addResizeListener(window,o),e.parentElement.insertBefore(l,e),e.parentElement.removeChild(e),g.on("forceCsrUpdate",o),g.on("firstPlay",o)}},createMainImageCsrDiv:a}},st=function(e,t,r){var i="height"===r?"width":"height";if(!t[r]||!e[r])return{height:0,width:0};var n=e[r]/t[r],o={};return o[r]=e[r],o[i]=t[i]*n,o},ct=function(e,t){var r=e.width,i=t.width;return t.height<=e.height&&i<=r},ne.Pd=function(e,t){var r=st(e,t,"height");return ct(e,r)?r:st(e,t,"width")},ne.Qd=function(e,t){if(!e.height||!t.height)return{x:0,y:0};var r=st(e,t,"height");return e=ct(e,r)?{x:Math.ceil((e.width-r.width)/2)||0,y:0}:(t=st(e,t,"width"),{x:0,y:Math.ceil((e.height-t.height)/2)||0})},lt=function(e){function t(e){if(i.isCSR){var t=(e=ne.Qd(e,n)).y;r.logoOffsetX=e.x,r.logoOffsetY=t}else r.logoOffsetX=0,r.logoOffsetY=0}var r,i,n,o=e.creative,a=e.docInfo,s=e.eventController;return{render:function(e){r=e.state,i=o.getParams(),e=a.document,n=i&&i.image_height&&i.image_width?{width:i.image_width,height:i.image_height}:((e=e.createElement("img")).src=i.image_url,{width:e.naturalWidth,height:e.naturalHeight}),s.on("csrUpdate",t)}}},ne.Sd=function(e,t,r){var i=!1,n=null;r.listen(e,"mouseenter",function(){i=!0,n=r.timeoutWrap(function(){i&&t()},300)}),r.listen(e,"mouseleave",function(){clearTimeout(n),i=!1})},ne.Td=function(e){e&&window.open(e,"_blank")},ne.Ud=function(e){var t=e.asyncUtil;this.analytics=e.analytics,this.asyncUtil=t},ut=function(e){var t=e.browserInfo,r=e.asyncUtil,i=e.creative;this.analytics=e.analytics,this.browserInfo=t,this.asyncUtil=r,this.creative=i},dt=function(e){var t=e.placement,r=e.creative.getParams();t=(r=r.customization&&r.customization.reveal||r.isCSR)&&!t.customOptions.is3pAdPreview;var i=[ne.Wd,Xr];return r&&i.push(ne.Md),t&&i.push(Kr),new ne.Zd({renderers:i,eventManagers:[ne.Ud,ut],initState:{},supportedDomRefs:[]},e)},pt=function(e){return e.isImage()},ht=function(){return new Promise(function(e){e({default:$r})})},ft=function(e){function t(e){var t=ue("?"+f.img_server_params).queryKey,r=t.no_crop,i=parseInt(t.noCrop,10)||parseInt(r,10)?{x1:0,x2:f.image_width,y1:0,y2:f.image_height}:f.focal_box;if(i){t=e.width,r=e.height;var n=f.image_width,o=f.image_height,a=c.domRefs.mainImageCsrEl;t===l&&r===d||(i=s(l=t,d=r,n,o,i),ne.F.setStyle(a,"background-repeat","no-repeat"),ne.F.setStyle(a,"background-size",i.scaledImgWidth+"px"),ne.F.setStyle(a,"background-position",i.offsetX+"px "+i.offsetY+"px"),(a=c.state).visibleImageWidth=m(i.scaledImgWidth,t),a.visibleImageHeight=m(i.scaledImgHeight,r),a.imageBoxingOffsetX=Math.max(Math.floor((t-a.visibleImageWidth)/2),0),a.imageBoxingOffsetY=Math.max(Math.floor((r-a.visibleImageHeight)/2),0))}else t=c.domRefs.mainImageCsrEl,ne.F.setStyle(t,"background-position","center"),ne.F.setStyle(t,"background-size","contain"),ne.F.setStyle(t,"background-repeat","no-repeat"),ne.F.setStyle(t,"text-align","left"),ne.F.setStyle(t,"background-color","#FFFFFF");n||o||(n=p.naturalWidth,o=p.naturalHeight),n&&o&&h.publish("csrOverlayOffsetUpdate",ne.Qd(e,{width:n,height:o}))}function s(e,t,r,i,n){var o,a,s,c=(o={adWidth:e,adHeight:t,imgWidth:r,imgHeight:i,focalWidth:n.x2-n.x1,focalHeight:n.y2-n.y1},a=o.adWidth,s=o.adHeight,Math.min(Math.max(a/o.imgWidth,s/o.imgHeight),Math.min(a/o.focalWidth,s/o.focalHeight)));r=Math.ceil(c*r),i=Math.ceil(c*i);var l={};return Object.keys(n).forEach(function(e){l[e]=Math.floor(c*n[e])}),{scaledImgWidth:r,scaledImgHeight:i,offsetX:e=u(e,r,l.x1,l.x2),offsetY:t=u(t,i,l.y1,l.y2)}}function u(e,t,r,i){return t<e?Math.round((e-t)/2):0<(r=Math.round((e-r-i)/2))?0:r+t<e?e-t:r}var c,l,d,p,h=e.eventController,r=e.docInfo,f=e.creative.getParams();return{render:function(e){c=e,(p=r.document.createElement("img")).src=f.image_url,h.on("csrUpdate",t)},_getZoomValues:s}},mt=function(e){var t=[ne.Wd,ti,ne.Md],r=e.creative.params;return!ue("?"+r.img_server_params).queryKey.noCrop&&r.focal_box||t.push(Kr),new ne.Zd({renderers:t,eventManagers:[ne.Ud,ut],initState:{},supportedDomRefs:[]},e)},gt=function(e){return e.isCinemagraph()},yt=function(){return new Promise(function(e){e({default:ri})})},vt=function(e){return e.isCarousel()},_t=function(){return ne.da.e(1).then(function(){return ne.ke})},It=function(){},At=function(e,t){return parseInt(e.getAttribute(t),10)},bt=function(e){if(!window.DOMParser)throw new se("DOMParser API unavailable");var t=new DOMParser;this.xmlDocument=t.parseFromString(e,"application/xml"),this._validateVastXml()},ne.O=function(){},wt=function(e){var t=e.eventController;e=e.firePix,ne.p(this,"timeoutID",void 0),ne.p(this,"vastWrapperBreadcrumbs",[]),ne.p(this,"adSystems",[]),ne.p(this,"impressionTrackers",[]),ne.p(this,"assortedTrackers",[]),ne.p(this,"videoClickTrackers",[]),ne.p(this,"expandMacros",void 0),this.eventController=t,this.firePix=e},Mt=function(e,t){var r=e.environment.renderOptionsMap,i=e.settings,n=t.creative,o=t.firePix,a=t.asyncUtil;t=t.eventController,this.placement=e.placement,this.renderOptionsMap=r,this.settings=i,this.creativeObj=n,this.asyncUtil=a,this.vastParser=new wt({eventController:t,firePix:o}),this.Creative=this.InLine=this.vastXml=null},Et=function(e){function o(){var e=t.params.additional_data.biid,r="";"AUDIT"!==t.params.additional_data.pr?r=n.getRedirectClickUrl():s.fireDyn({long1:e,string2:"AUDIT_DYN"});var i=c;return ne.H.DISPLAY_CLICK_MACROS.forEach(function(e){var t=e.regex;e=e.level,t.test(i)&&(e=V(r,e),i=i.replace(t,e))}),i}var t=e.creative,a=e.eventController,n=e.analytics,s=e.firePix,c=(e=t.params).banner_markup,l=e.banner_height,u=e.banner_width;return{render:function(e){e=e.domRefs;var t=function(){function r(){var e,t=null===(e=i.contentWindow)||void 0===e?void 0:e.document;t.open(),t.write(n),t.close(),i.removeEventListener("load",r)}var e=o(),i=document.createElement("iframe"),n="<!DOCTYPE html><html><head></head><body>"+e+"</body></html>";return i.className=li,i.height=l,i.width=u,i.frameBorder="0",i.scrolling="no",i.marginHeight="0",i.marginWidth="0",i.tabIndex=-1,i.setAttribute("allowtransparency","true"),i.setAttribute("hidefocus","true"),a.on("adOnPage",function(){var e,t;"complete"===(null===(e=i.contentWindow)||void 0===e?void 0:null===(t=e.document)||void 0===t?void 0:t.readyState)?r():i.addEventListener("load",r)}),i}();return e.adWrapper=t,e.adWrapperWithDims=t,e.mainImage=t,e},_expandClickMacro:o}},Ct=function(e){return new ne.Zd({renderers:[ci],eventManagers:[ne.Ud],initState:{},supportedDomRefs:[]},e)},Tt=function(e){var t=e.placement,r=e.environment,i=e.settings,n=e.creative,o=e.firePix,a=e.errorHandler,s=e.eventController,c=e.asyncUtil,l=St(pi,n);return e=Dt(hi,n).map(function(e){return e.load()}),t=l.load({placement:t,environment:r,settings:i,creative:n,firePix:o,errorHandler:a,eventController:s,asyncUtil:c}),e.unshift(t),Promise.all(e)},St=function(e,t){if(0===(e=e.filter(function(e){return e.isSupported(t)})).length)throw new se("Supported renderer factory not found.");return 1<e.length&&Pt(e),e[0]},Dt=function(e,t){return e.filter(function(e){return e.isSupported(t)})},Pt=function(e){throw e=e.map(function(e){return e.name}),new se(e.length+" renderer factories are supported: "+e.join(", ")+". Only one renderer factory may be supported for each impression.")},Ot=function(e){if(e=[(e=e.topWindow.document).URL,e.referrer,window.document.URL,window.document.referrer].find(Ot.isTripleLiftTest),this.debugFlag=!!e,e){var t=(e=ue(e).queryKey).tl_template_id,r=e.tl_dyn_id,i=e.tl_scu_id,n=e.tl_preview_id,o=e.tp_preview_id,a=e.tl_debug_log,s=e.view_type,c=e.tlBidUrl;this.tlImageId=e.tl_image_id,this.tlTemplateId=t,this.debugLog=!!a,this.tlBidUrl=!!c&&decodeURIComponent(c),this.forceBidUrl=!(!n&&!o),this.adPreview=!!(n||o||s),this.thirdPartyAdPreview=!!o,this.tlDynId=r||i}},Nt=function(o){function a(e){var t={e:"Critical: "+(e.message||e),lvl:1};t.inv_code=i(function(){return _.invCode},null),t.aid=i(function(){return A.auctionId},null),t.rev=i(function(){return f},null),t.block=i(function(){return d.getPhase()},"unknown"),console.error("tl: "+(e.stack||e),t),e=i(function(){return m.topDocument},document);var r=i(function(){return v.ebPath},"eb2.3lift.com");e.createElement("IMG").src=le(r,"sce",t)}function i(e,t){try{return e()}catch(e){return t}}var p,s,c,l,u,h,d,f,m,g,y,v,_,I,A,b,w,M,E,C,T,S,D,P,O,N,L,x,R,j,k,U,F,B,V,W,H,z,Q,Y,G,Z,q,J,X,K,$,ee,te,re,ie;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return window.performance&&performance.now||(window.performance=window.performance||{},window.performance.now=Date.now),p=performance.now(),c=(s=o).cacheHit,l=void 0===s.revision?"un":s.revision,u=s.scriptWindow,h=new Ie,d=new Ce({eventController:h}),f=l.slice(0,7),m=new ve({scriptWindow:u}),g=new Ot({topWindow:m.topWindow}),y=g.debugFlag,v=new _e(o.environment),r=o.placement,n={},(i={urlParams:g}).urlParams.adPreview&&(n.friendlyIframeRender=!0),_=new Te(Object.assign({},r,{customOptions:Object.assign({},r.customOptions,n,{is3pAdPreview:i.urlParams.thirdPartyAdPreview})})),I=new Pe(o.settings),t=void 0===t?{}:t,A=new Ae(Object.assign({},{docInfo:m,rev:f,placement:_,debugFlag:y,ebPath:v.ebPath},t),{eventController:h}),new oe({environment:v,bundleStartTime:p},{eventController:h,urlParams:g}),b=new je({settings:I,ttjStartTime:o.ttjStartTime,revision:f,isTestEnv:!!g.tlBidUrl},{firePix:A}),W=function(){c||b.log(je.BUNDLE_LOAD_TIME,p),C=new Be({docInfo:m,placement:_}),M=new ae({firePix:A,urlParams:g,lifecycleManager:d}),E=M.decorate.bind(M),T=new xe(E),(w=new we({placement:_,environment:v,docInfo:m,settings:I},{errorHandler:M})).initTLScript(),(P=w.getHeaderBiddingAuctionResponse())&&(b.setIsHeaderBidding(!0),h.publish("auctionId",{id:P.settings.additional_data.aid})),Me.needsBusting(_,m.window)&&Me.bust(m.document,w.getScriptSrc())},H=function(){var e=w.getDtjTacticId();D=new De({hookFinder:w,docInfo:m,defaultCode:_.defaultCode,pageInfo:C},{firePix:A,asyncUtil:T}),e||(_.demandEnabled||y||P?document.getElementById("tl-app")||(O=new Le({placement:_,environment:v,gdpr:S,topWindow:m.topWindow,debugFlag:g.debugFlag}),D.setUserSync(O)):D.serve("demand_disabled"))},z=function(){var e=m.window.navigator;if(!e)throw new se("setBrowserInfo failed: no window.navigator");N=new me(e.userAgent).getBrowserInfo()},Q=function(){L=Er({win:m.topWindow,pageInfo:C,placement:_,browserInfo:N,errorHandler:M,firePix:A,analytics:F,asyncUtil:T},h),x=new Re({placement:_,docInfo:m},{positionService:L,eventController:h,errorHandler:M,asyncUtil:T})},Y=function(){var t,r;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(e.setCatchFinallyBlocks(2),(t=Fe.getCmpApiWindow(m.topWindow))?(S=new Fe(t,t!==m.topWindow),e.yield(S.getCMPData(),4)):e.jumpTo(4)):2!=e.nextAddress?e.leaveTryBlock(0):(r=e.enterCatchBlock(),M.fireError("Error getting gdpr CMPData: "+r.message,M.LOG),void e.jumpToEnd())})},G=function(){var t,r;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return t=ge.create(m),(j=new be({auctionFrameWindow:t.contentWindow},{errorDecorator:E})).setListeners(),r=new fe({auctionIframe:t,browserInfo:N,docInfo:m,environment:v,gdpr:S,placement:_,rev:f},{errorDecorator:E,errorHandler:M,eventController:h,firePix:A,pageInfo:C,serveDefault:D,hookFinder:w,urlParams:g,asyncUtil:T}).create(P),b.log(je.AUCTION_START),e.yield(r.getCreative(),2);R=e.yieldResult,b.log(je.AUCTION_RESPONSE),b.setFormatId(R.settings.format_id),e.jumpToEnd()})},Z=function(){var t,r,i,n,o,a;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:if(t=R.settings,r=t.dco_tag_url,i=t.dco_protocol,r&&i===ne.H.DCO_PROTOCOLS.DV_BLOCKING)return n=new Ue(R,{errorHandler:M}),e.yield(n.callDV(),3);e.jumpTo(2);break;case 3:return e.return();case 2:if(r)return o=new ye({assets:R.assets,settings:R.settings,frame:ge.get()},{errorHandler:M}),e.setCatchFinallyBlocks(5),e.yield(o.getOptimizedAsset(),7);e.jumpTo(0);break;case 7:a=e.yieldResult,R.assets=[a.asset],R.settings.isFallbackAssets=a.isFallback,a.asset.privacy_url&&(R.settings.adchoices_url=a.asset.privacy_url),e.leaveTryBlock(0);break;case 5:e.enterCatchBlock(),D.serve("dco_error"),e.jumpToEnd()}})},q=function(){D.adRendered=!0,k=new Oe(M),Object.assign(_,k.getAltTemplate(_.templates,R.settings.template_id,w.getTagTemplateId(),g.tlTemplateId)),_.provenTemplate&&(_.customOptions.unwrappedUnit=!1,_.customOptions.friendlyIframeRender=!0),k.parse(_.templateCode)},J=function(){var e=w.tlScript;if(e=e&&ue(e.src).queryKey.ct,(U=ke.create({environment:v,placement:_,pageInfo:C,isSmallScreen:N.isSmallScreen,clickTrackerDTJ:e,debug:y,creativePayload:R,templateDetail:k.templateDetail,tlImageId:g.tlImageId,errorHandler:M})).isHdx()&&(_.customOptions.friendlyIframeRender=!0),!Oe.hasMacro(_.templateCode)&&!U.isHdx())throw new se("Format not HDX and template code is not valid.");!C.isViewabilityAware()&&U.needsViewabilityAwareness()&&M.fireError("Position aware format served to unfriendly frame",M.WARNING)},X=function(){B=new Ne({docInfo:m,placement:_},{creative:U,auctionIframeWriterOverride:j,firePix:A,errorHandler:M,eventController:h}),F=new he({environment:v,pageInfo:C},{creative:U,lifecycleManager:d,thirdPartyAnalytics:B,firePix:A,errorHandler:M,asyncUtil:T})},K=function(){var t,r,i,n,o,a,s,c,l,u,d,p;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress){b.log(je.RENDER);try{F.render()}catch(e){M.fireError("analytics error: "+e.toString(),M.ERROR)}return O&&O.doSyncIfAllDone(),w.styleHook(),t={placement:_,environment:v,settings:I,creative:U,firePix:A,errorHandler:M,eventController:h,asyncUtil:T},e.yield(di.load(t),2)}if(3!=e.nextAddress)return r=e.yieldResult,i=r[0].default,n=r.slice(1).map(function(e){return e.default}),o=n.map(function(e){return e.create()}),a={creative:U,placement:_,environment:v,browserInfo:N,pageInfo:C,docInfo:m,analytics:F,asyncUtil:T,templateCode:k,positionService:L,firePix:A,errorHandler:M,eventController:h,viewabilityController:x,featureConfigs:o},s=i.create(a),e.yield(s.render(),3);for(c=e.yieldResult,V=c.domRefs,k.chosenTemplate.appendChild(V.adWrapper),l=k.templateWrapEl,u=l.childNodes,d=0;d<u.length;d++)1===(p=u[d]).nodeType&&Se.insertAd(p,w.getHook(),_.customOptions.friendlyIframeRender);pe(m.topWindow,"resize",document),b.log(je.AD_ON_PAGE),F.adOnPage(),h.publish("adOnPage"),he.sendAdReadySignal(),e.jumpToEnd()})},$=function(){var u=V.mainImageCsrEl||V.mainImage,d=V.adWrapperWithDims;if(F.appendThirdPartyJs(d,u),C.isViewabilityAware()){if(window.IntersectionObserver&&window.IntersectionObserverEntry&&"isIntersecting"in window.IntersectionObserverEntry.prototype&&!C.isMraid()){var r=null,e=Re.getRequiredPct(d),t={0:function(e,t){e[0].isIntersecting&&(F.onePxViewable(),t.disconnect())}};t[e]=function(e,t){e[0].isIntersecting?r=setTimeout(function(){F.viewable(),t.disconnect()},1e3):r&&clearTimeout(r)},e=t,Object.entries(e).forEach(function(e){var t=ne.m.makeIterator(e);e=t.next().value,t=t.next().value,e={threshold:parseFloat(e)},new IntersectionObserver(t,e).observe(d)})}x.listenForPercentageAdViewability(d,F.viewable.bind(F)),x.listenForOnePxAdViewability(F.onePxViewable.bind(F))}ce(I.pmdLogRate,function(){T.timeoutWrap(function(){var e=L,t=C,r=p,i=A,n=M,o=e.getElDims(d),a=e.getElDims(u);if(r={ad_w:o.width,ad_h:o.height,img_w:a.width,img_h:a.height,render_time:Date.now()-r,ft:t.getFrameType(),plid:t.placement.id},t.isClientAware()?(o=e.getClientDims(),r.client_w=o.width,r.client_h=o.height):(r.client_w=-1,r.client_h=-1),t.isPositionAware()){t=e.getBoundingRect(d);try{var s=e.getBoundingRect(d.ownerDocument.defaultView.top.document.body),c=t.top-s.top,l=t.left-s.left}catch(e){n.fireError("could not access top when getting ad position",n.WARNING),l=c=-1}r.pos_left=l,r.pos_top=c}else r.pos_left=-1,r.pos_top=-1;i.fireEB("pmd",de(r))},1e3)})},ee=function(){(new Ee).layout(w.getHook())},te=function(){var t,r,i,n,o,a;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){t=function(){var t,r;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.yield(ne.da.e(4).then(function(){return ne.De}),2);t=e.yieldResult.default,r=new t({docInfo:m,domRefs:V,errorHandler:M,pageInfo:C}),x.listenForPercentageAdViewability(V.adWrapperWithDims,function(){r.run()}),e.jumpToEnd()})},r={342:1,746:1},i=I.prvSampleRate,n=(U.getParams().prv_sample_rate||0)/100,o=r[_.publisherId],a=Math.max(i,n,o),ce(a,function(){d.setPhaseAfterPostRender(),t()}),e.jumpToEnd()})},re=function(){return ne.m.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return W(),e.yield(Y(),2);case 2:return H(),z(),e.yield(G(),3);case 3:return e.yield(Z(),4);case 4:return D.hasDefaulted?e.return():(q(),J(),X(),Q(),e.yield(K(),5));case 5:return $(),ee(),e.yield(te(),0)}})},e.setCatchFinallyBlocks(2),e.yield(re(),4);var t,r,i,n;if(2!=e.nextAddress)return e.leaveTryBlock(0);if(ie=e.enterCatchBlock(),M)try{M.fireError(ie,M.ERROR)}catch(e){a(e)}else a(ie);e.jumpToEnd()})},Lt="0134678".split(""),xt=0;xt<Lt.length;xt++)Rt=Lt[xt],ne.da.rs(Lt[xt],Rt+".bundle.js");ne.Ie=[6333,6807],oe.prototype._setupListeners=function(){var t=this;this.eventController.on("log",this._log),this.eventController.on("auctionResponse",function(e){e=e.auctionResponse,t.auctionId=e.settings.additional_data.aid,t.formatName=t._getFormatName(e.settings.format_id)})},oe.prototype._getFormatName=function(t){var r=this;return Object.keys(this.environment.formats).find(function(e){return r.environment.formats[e]===t})},oe.prototype._makeLogString=function(e,t){return"["+this.formatName+"]["+this.auctionId+"]["+this._getTimeSinceStartMS()+"ms]["+e+"]"+(0<t.length?JSON.stringify(t):"")},oe.prototype._getTimeSinceStartMS=function(){return performance.now()-this.bundleStartTime},oe.warn=function(e,t){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];console.warn("tl: "+(e.stack||e),Object.assign({},r))},ae.prototype.fireError=function(e,t,r){t=void 0===t?0:t,r=void 0===r?{}:r;var i=this.lifecycleManager.getPhase();this.urlParams.debugFlag?oe.warn(e,i,t,r):(e.stack&&Object.assign(r,{stack:e.stack}),this._logEbError(e instanceof Error?e.message:e,i,t,r))},ae.prototype.decorate=function(i){var n=!1,o=this;return function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];try{return i.apply(this,t)}catch(e){n||(n=!0,o.fireError(e,e instanceof se?e.level:void 0))}return null}},ae.prototype._logEbError=function(e,t,r,i){return e={e:e,block:t,lvl:r,dc:i?JSON.stringify(i):""},this._isFirstOfType(t,r)?this._recordError(t,r):e.dup=1,this.firePix.fireEB("sce",e),this},ae.prototype._isFirstOfType=function(e,t){return!(this.previousErrorMap[e]&&this.previousErrorMap[e][t])},ae.prototype._recordError=function(e,t){this.previousErrorMap[e]||(this.previousErrorMap[e]={}),this.previousErrorMap[e][t]=!0},ne.m.global.Object.defineProperties(ae.prototype,{UNKNOWN:{configurable:!0,enumerable:!0,get:function(){return 0}},ERROR:{configurable:!0,enumerable:!0,get:function(){return 1}},WARNING:{configurable:!0,enumerable:!0,get:function(){return 2}},LOG:{configurable:!0,enumerable:!0,get:function(){return 3}}}),ne.p(ae,"UNKNOWN",0),ne.p(ae,"ERROR",1),ne.p(ae,"WARNING",2),ne.p(ae,"LOG",3),ne.m.inherits(se,Error),ne.F={setStyle:i,setStyleProperties:e,getPropertyValue:t},ne.H={BUTTONS_DIR:"https://ib.3lift.com/static/buttons/",NW:"NW",NE:"NE",SE:"SE",SW:"SW",BASE_Z_INDEX:0,DEFAULT_ADCHOICES_URL:"https://optout.aboutads.info",TEXT_FIELDS:["heading","caption"],TINY_IMG_DATA:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",TL_CLASS_PREFIX:"tl-",COLORS:{BLACK:"#000",WHITE:"#fff"},DCO_PROTOCOLS:{DYNAMIC_CONTENT:1,NATIVE_ADS:2,DV_BLOCKING:3},DEFAULT_PSA_URL:"https://images.3lift.com/5333898.jpg",DISPLAY_CLICK_MACROS:[{regex:/{clickurl}/gi,level:0},{regex:/{clickurl_enc}/gi,level:1},{regex:/{clickurl_dbl_enc}/gi,level:2}]},ue.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var jt={click_cta:1,page_flip_left:2,page_flip_right:3,scroll:4,mute:5,unmute:6,expand:7,collapse:8,click_paused:9,transition_up:10,transition_down:11,direction_change:12,reveal_trigger:13},kt=2,Ut=3;he.prototype.loadCreativeParams=function(){this.thirdPartyAnalytics.billOrWait(),this.creativeParams=this.creative.params.additional_data||{},this.creativeParams.caid=this.creative.params.asset_id,this.creativeParams.unid=0,this.rParams=Object.assign({},this.creativeParams,v(this.pageInfo.get()),{rr:"creative",fid:this.creative.params.format_id||0,rb:this.creative.params.render_options_bm||0,g:this.creative.params.ghost?1:0}),this.creative.params.format_id===this.environment.formats.video&&(this.videoLengthMS=1e3*this.creative.params.length_seconds)},he.prototype.render=function(){var e=this;this.hasFired.render||(this.fireEB("r",this.rParams,function(){e.errorHandler.fireError("render tracker error",e.errorHandler.LOG)}),this.thirdParty(),this.hasFired.render=!0,this.lifecycleManager.setPhaseAfterRender(this.creative.isAutoplay()),this.creativeParams.bmid===7073..toString()&&this.firePix.fireDyn({long1:7073,string2:"CRITEO_DYN_TEST"}))},he.prototype.viewable=function(){this.hasFired.viewable||(this.hasFired.viewable=!0,this.fireEB("ev",this.getEngagementParams()),this.thirdPartyAnalytics.fireViewable())},he.prototype.adOnPage=function(){this.fireEB("aop",this.rParams)},he.prototype.onePxViewable=function(){this.hasFired.onePxViewable||(this.hasFired.onePxViewable=!0,this.fireEB("ev1",this.getEngagementParams()),this.thirdPartyAnalytics.fireOnePxViewable())},he.prototype.elementViewable=function(e,t){this.viewedCreativeElements[e]||(this.fireEB("eev",this.getEngagementParams(e,t)),this.viewedCreativeElements[e]=!0)},he.prototype.twoSecondViewable=function(){this.fireEB("evv")},he.prototype.playAttempt=function(){this.hasFired.playAttempt||(this.hasFired.playAttempt=!0,this.fireEB("vpa",{format_id:this.creative.params.format_id||0,tactic_id:this.creative.params.additional_data.tid||0}))},he.prototype.getEngagementParams=function(e,t){return Object.assign({},this.creativeParams,{cepos:void 0===t?0:t,ceid:e||this.creative.params.image_id||0})},he.prototype.mouseover=function(e,t){this.fireEB("em",this.getEngagementParams(e,t))},he.prototype.click=function(e,t){var r=this.creativeParams.biid;"AUDIT"!==this.priceMacroValue?(this.fireEB("ec",this.getEngagementParams(e,t)),this.thirdPartyAnalytics.fireClick(t),this.fireEB("px",{add:3006})):this.firePix.fireDyn({long1:r,string2:"AUDIT_DYN"})},he.prototype.getRedirectClickUrl=function(e,t){return e=this.getEngagementParams(e,t),this.firePix.getEBUrl("ec",e)+"&rdir="},he.prototype.appendThirdPartyJs=function(e,t){this.creative.params.ghost||this.thirdPartyAnalytics.appendJsOnPassthru(e,t)},he.prototype.duration=function(e,t,r,i){t=he.getVideoLength(t,r),!isNaN(e)&&t.value&&(t=Object.assign({},this.creativeParams,{duration:e,video_length:t.value,vlt:t.type}),0<e&&!this.hasFired.play&&(this.thirdPartyAnalytics.firePlay(),this.hasFired.play=!0,t.start=1,this.hasFired.playAttempt||this.playAttempt(),this.lifecycleManager.setPhaseAfterVideoStart()),n(i)&&.5<=i&&(t.iv=1),this.fireEB("evd",t))},he.getVideoLength=function(e,t){return t=e&&0<e?kt:(e=t,Ut),{value:e,type:t}},he.prototype.play=function(){this.fireEB("px",{add:3007})},he.prototype.thirdParty=function(){this.creative.params.ghost||this.thirdPartyAnalytics.fireImpression()},he.prototype.fireEEE=function(e,t){this.fireEB("eee",{eid:jt[e],unid:this.creativeParams.unid||0,ev:void 0===t?1:t})},he.sendAdReadySignal=function(){var e=document.getElementById("tl-app");e&&e.classList.contains("ad-ready-signal")&&((e=document.createElement("IFRAME")).setAttribute("src","js-3lift:ad_ready"),document.documentElement.appendChild(e),e.parentNode.removeChild(e))},M.prototype.dispatchIfUnique=function(e,t,r,i){this.allRenderedAssets[r]=this.allRenderedAssets[r]||[],this._areAssetsUnique(r,i)?(t(),this._trackAssets(r,i)):e.serve("redundant_asset")},M.prototype._areAssetsUnique=function(t,e){var r=this;return e.every(function(e){return r._isAssetUnique(t,e)})},M.prototype._isAssetUnique=function(e,t){return!this.allRenderedAssets[e][t]},M.prototype._trackAssets=function(t,e){var r=this;e.forEach(function(e){return r._trackAsset(t,e)})},M.prototype._trackAsset=function(e,t){this.allRenderedAssets[e][t]=!0},ne.p(M,"allRenderedAssets",{}),E.prototype.getCreativeJSON2=function(e,t){this.passthru(e.pixel,t)},E.prototype.get3PUnit=function(e,t,r,i,n,o){this.passthru(t,o)},E.prototype.getExtUnit=function(e,t){this.passthru(t)},E.prototype.passthru=function(e,t){this.eventController.publish("passthru",e,t)},E.prototype.dynamicCreativeRender=function(e){if(!e)throw new se("Missing auction response payload");if(!this.isUnitGenerated){this.isUnitGenerated=!0;var t=e.settings.additional_data.aid;this._verboseCreativeResponseLog(t,"dynamicCreativeRender",e),this.eventController.publish("auctionId",{id:t}),this.eventController.publish("auctionResponse",{auctionResponse:e})}},E.prototype.serveConditional=function(e,t){if(this.placement.customOptions.uniqueBrands||this.placement.customOptions.uniqueCreatives){var r=new M,i=Object.keys(t)[0];r.dispatchIfUnique(this.defaultServer,e,i,t[i])}else this.errorHandler.fireError("serveConditional response received with no uniqueness constraints",this.errorHandler.ERROR),this.defaultServer.adRendered=!0},E.prototype.serveDefault=function(e,t){this._verboseCreativeResponseLog(t,"serveDefault",this.placement.defaultCode),this.defaultServer.serve(e,t)},E.prototype.registerAuctionListeners=function(){var e={get_unit_2:this.wrap(this.getCreativeJSON2),get_3p_unit:this.wrap(this.get3PUnit),get_ext_unit:this.wrap(this.getExtUnit),dynamicCreativeRender:this.wrap(this.dynamicCreativeRender),serveViewable:this.wrap(this.serveConditional),serveConditional:this.wrap(this.serveConditional),serveDefault:this.wrap(this.serveDefault)};Object.assign(this.auctionIFrameWindow,e)},E.prototype.wrap=function(e){var i=this,n=this.errorDecorator(e);return function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];return i.eventController.publish("auctionComplete"),n.apply(i,t)}},E.prototype._verboseCreativeResponseLog=function(e,t,r){var i=this.placement.customOptions.verboseCreativeResponseToggle;void 0!==i&&Math.random()<i&&((i={})[t]=r,t=i,e={string1:e,string2:"verboseCreativeResponseToggle",string3:t=JSON.stringify(t)},t.length<=1024&&this.firePix.fireDyn(e))},C.prototype.getCreative=function(){var e=this;return this.initGetCreativeJSON(),new Promise(function(t){e.eventController.once("auctionResponse",function(e){t(e.auctionResponse)})})},C.prototype.initGetCreativeJSON=function(){new E(this.config,this.dependencies).registerAuctionListeners()},T.prototype.buildAuctionPath=function(){var e=this.getAuctionHostName(this.isAdServing&&this.specifiedTacticId);return this.buildDefaultAuctionPath(e)},T.prototype.getAuctionHostName=function(e){e=void 0!==e&&e;var t=this.placement.customOptions,r=t.uniqueCreatives;t=t.uniqueBrands;var i=this.environment,n=i.tlxStagingRate;return i=i.tlxHost,n&&Math.random()<n&&(i="staging-"+i),this.urlParams.forceBidUrl?y("//"+this.environment.qaHost+"/qa"):this.urlParams.tlBidUrl?y("//"+this.urlParams.tlBidUrl):y(e?"//"+i+"/web/adserving":t||r?"//"+i+"/vbas/auction":"//"+i+"/web/auction")},T.prototype.buildDefaultAuctionPath=function(e){var t,r=this.placement.customOptions;r=void 0===r.numCreatives?1:r.numCreatives;var i="inv_code="+encodeURIComponent(this.placement.invCode),n="referrer="+encodeURIComponent(this.pageInfo.get().ref),o="rev="+encodeURIComponent(this.rev),a=encodeURIComponent,s=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),s=!0}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(s=!0)}return i=[i,n,o,"fe="+a(s?"1":"0"),"ft="+encodeURIComponent(this.pageInfo.getFrameType()),"cb="+ne.Ha(10)],this.isAdServing&&this.specifiedTacticId&&(i.push("tid="+encodeURIComponent(this.specifiedTacticId)),i.push("n="+encodeURIComponent(r.toString()))),this.placement.demandEnabled||this.urlParams.debugFlag||i.push("dd=1"),this.needsAqp()&&i.push(T.getAqpParam()),null!==(t=this.gdpr)&&void 0!==t&&t.cmpData&&(i.push("gdpr="+encodeURIComponent(this.gdpr.cmpData.gdprApplies)),null!==this.gdpr.cmpData.consentString&&i.push("cmp_cs="+encodeURIComponent(this.gdpr.cmpData.consentString))),e+"?"+i.join("&")},T.prototype.needsAqp=function(){return-1<this.placement.invCode.indexOf("msn_infeed_")&&0===this.docInfo.document.getElementsByClassName("xnetvidplayer").length},T.getAqpParam=function(){return"aqp="+encodeURIComponent(JSON.stringify({_id:{$oid:"0"},format_target:{action:"include",items:[{id:8}]}}))},S.prototype.onError=function(e,t){this.errorHandler&&this.errorHandler.fireError(e,t)},S.prototype.fireAuction=function(r){function e(){try{var e=n.contentWindow.document.createElement("SCRIPT");e.referrerPolicy="no-referrer-when-downgrade",e.src=r,n.contentWindow.document.body.appendChild(e)}catch(e){i.onError(e,i.errorHandler.ERROR)}var t=i.asyncUtil.timeoutWrap(function(){i.serveDefault.serve("auction_timeout")},i.placement.timeoutDuration);i.eventController.once("auctionComplete",function(){clearTimeout(t)})}var t,i=this,n=this.auctionIframe;"complete"===(null===(t=n.contentWindow)||void 0===t?void 0:t.document.readyState)?e():n.onload=e},S.prototype.run=function(r){function e(){i.criteoGuard||(i.criteoGuard=!0,i.fireAuction(r))}var i=this;if(this.criteoGuard=!1,this.browserInfo.isSafari&&!this.isAdServing){var t=this.auctionIframe.contentWindow,n=t.document;t.tl_criteo_rtus=function(e){if(!i.criteoGuard){i.criteoGuard=!0;var t=i.rtusTimeout;t&&(i.docInfo.window.clearTimeout(t),i.rtusTimeout=!1),e&&"OK"===e.status?(e=encodeURIComponent(e.userid),i.fireAuction(r+"&criteo_id="+e)):i.fireAuction(r)}},t=n.createElement("SCRIPT"),n.body.appendChild(t),t.onerror=e,t.src="//gum.criteo.com/sync?c=157&r=2&j=tl_criteo_rtus",this.rtusTimeout=setTimeout(e,150)}else this.fireAuction(r)},ne.m.inherits(D,C),D.prototype.getCreative=function(){var e=this;this.asyncUtil.timeoutWrap(function(){e.serveDefault.serve("global_timeout")},1.5*this.placement.timeoutDuration);var t=C.prototype.getCreative.call(this),r=this.initAuctionRunner(),i=this.initAuctionPathBuilder();return r.run(i.buildAuctionPath()),t},D.prototype.initAuctionRunner=function(){return new S(this.config,this.dependencies)},D.prototype.initAuctionPathBuilder=function(){return new T(this.config,this.dependencies)},ne.m.inherits(P,C),P.prototype.getCreative=function(){var e=C.prototype.getCreative.call(this);return this.auctionIframe.contentWindow.dynamicCreativeRender(this.headerBiddingAuctionResponse),e},fe.prototype.create=function(e){return e?new P(Object.assign({},{headerBiddingAuctionResponse:e},this.config),this.dependencies):new D(this.config,this.dependencies)},me.prototype.isMobile=function(){return this.userAgent.match(/blackberry|ipod|iphone|ipad|android/i)},me.prototype.isIos=function(){return/ipod|iphone|ipad/i.test(this.userAgent)},me.prototype.isSafari=function(){return/safari/i.test(this.userAgent)&&!/chrome|chromium|crios/i.test(this.userAgent)},me.prototype.isIpad=function(){return this.userAgent.match(/ipad/i)},me.prototype.isIE=function(){return/msie|trident\//i.test(this.userAgent)},me.prototype.isEdge=function(){return/Edg/.test(this.userAgent)},me.prototype.checkIsMicrosoftBrowser=function(){return this.isIE()||this.isEdge()},me.prototype.checkIsFacebook=function(){return-1<this.userAgent.indexOf("FBAV/")},me.prototype.getBrowserInfo=function(){var e=this.isMobile(),t=this.isIpad();return{isMobile:e,isSafari:!!this.isSafari(),isIpad:t,isIos:!!this.isIos(),isMicrosoftBrowser:this.checkIsMicrosoftBrowser(),isIE:this.isIE(),isSmallScreen:e||t,isFacebook:this.checkIsFacebook()}},ge.get=function(){return this._auctionIframe},ge.create=function(e){return e=e.document,this._auctionIframe=g(e.createElement("IFRAME")),e.body||e.documentElement.appendChild(e.createElement("body")),e.body.appendChild(this._auctionIframe),(e=this._auctionIframe.contentWindow.document).open(),e.write("<html><head></head><body></body></html>"),e.close(),this._auctionIframe};var Ft=O,Bt=[{field:"heading",type:"string",minLength:1},{field:"caption",type:"string",minLength:1},{field:"image_url",type:"string",minLength:1},{field:"clickthrough_url",type:"string",minLength:1}];N.prototype.getAllComponents=function(){var e=this;return{getHeading:function(){return e.getFirst({assetType:"text",componentType:"heading"})},getCaption:function(){return e.getFirst({assetType:"text",componentType:"caption"})},getImageUrl:function(){return e.getFirst({assetType:"image",componentType:"baseImage"})},getLogoUrl:function(){return e.getFirst({assetType:"image",componentType:"brandLogo"})},getClickthroughUrl:function(){return e.getFirst({assetType:"URI",componentType:"clickThroughURL"})},getJsTrackers:function(){return e.getAll({assetType:"javascript"})},getImpPixels:function(){return e.getAll({assetType:"image",componentType:"impressionTracker"})},getClickPixels:function(){return e.getAll({assetType:"image",componentType:"clickTracker"})},getViewPixels:function(){return e.getAll({assetType:"image",componentType:"viewabilityTracker"})},getPrivacyUrl:function(){return null}}},N.prototype.getFirst=function(e){return this.getAll(e)[0]},N.prototype.getAll=function(e){return this.creativeComponents.filter(N.byObjFields.bind(null,e)).map(N.componentToSource)},N.byObjFields=function(t,r){return Object.keys(t).every(function(e){return r[e]===t[e]})},N.componentToSource=function(e){return e.assets[0].source},L.prototype.getAllComponents=function(){var t=this;return{getHeading:function(){return t.assets.filter(function(e){return e.title&&e.title.text})[0].title.text},getCaption:function(){return t.assets.filter(function(e){return e.data&&2===e.data.type})[0].data.value},getImageUrl:function(){return t.assets.filter(function(e){return e.img&&3===e.img.type})[0].img.url},getLogoUrl:function(){var e=t.assets.filter(function(e){return e.img&&1===e.img.type});return 0<e.length?e[0].img.url:null},getClickthroughUrl:function(){var e=t.assets.filter(function(e){return e.link&&e.link.url});return 0<e.length?e[0].link.url:t.link},getJsTrackers:function(){return t.eventTrackers.filter(function(e){return 2===e.method}).map(function(e){return e.url})},getImpPixels:function(){return t.eventTrackers.filter(function(e){return 1===e.method&&1===e.event}).map(function(e){return e.url})},getViewPixels:function(){return t.eventTrackers.filter(function(e){return 1===e.method&&[2,3,4].includes(e.event)}).map(function(e){return e.url})},getClickPixels:function(){return[]},getPrivacyUrl:function(){var e=t.assets.filter(function(e){return e.data&&e.data.privacy});return e.length?e[0].data.privacy:t.privacy}}};var Vt=x,Wt=R,Ht={URL:0,FALLBACK:1},zt=["impression_pixels","clickthrough_pixels","viewability_pixels","js_trackers"];ye.prototype.getOptimizedAsset=function(){var t=this;return this.fetchDcoPayload().then(function(e){return t.mapPayloadToAssetAndMergeTrackers(e)}).then(function(e){return t._mergeOrRemoveTrackerFields(e)}).catch(function(e){return t.errAndFallBackOrDefault(e)})},ye.prototype.getTagUrl=function(){return this.settings.dco_tag_url.replace("${dcomacro}","doDco")},ye.prototype.fetchDcoPayload=function(){var r=this.frame.contentWindow,i=r.document,n=i.createElement("script"),o=this.getTagUrl();return new Promise(function(e,t){r.doDco=e,r.onerror=function(e){return t(new se("dco jsonp error: "+e))},n.onerror=function(){return t(new se("dco script failed to load"))},setTimeout(function(){t(new se("dco jsonp timeout"))},1e4),n.src=o,i.body.appendChild(n)})},ye.prototype._mergeOrRemoveTrackerFields=function(e){var i=this,n=Object.assign({},e);return zt.forEach(function(e){var t=Array.isArray(n[e]),r=Array.isArray(i.settings[e]);t&&r?(n[e]=n[e].concat(i.settings[e]),delete i.settings[e]):r&&delete n[e]}),{asset:n,isFallback:Ht.URL}},ne.m.global.Object.defineProperties(_e.prototype,{adserverHostName:{configurable:!0,enumerable:!0,get:function(){return this._adserverHostName}},bundleRoot:{configurable:!0,enumerable:!0,get:function(){return this._bundleRoot}},cookieDomain:{configurable:!0,enumerable:!0,get:function(){return this._cookieDomain}},dynamicPath:{configurable:!0,enumerable:!0,get:function(){return this._dynamicPath}},ebPath:{configurable:!0,enumerable:!0,get:function(){return this._ebPath}},formats:{configurable:!0,enumerable:!0,get:function(){return this._formats}},numUserSyncPixels:{configurable:!0,enumerable:!0,get:function(){return this._numUserSyncPixels}},qaHost:{configurable:!0,enumerable:!0,get:function(){return this._qaHost}},renderOptionsMap:{configurable:!0,enumerable:!0,get:function(){return this._renderOptionsMap}},tlImageAddr:{configurable:!0,enumerable:!0,get:function(){return this._tlImageAddr}},tlxHost:{configurable:!0,enumerable:!0,get:function(){return this._tlxHost}},ttjHostName:{configurable:!0,enumerable:!0,get:function(){return this._ttjHostName}}}),Ie.prototype.on=function(e,t){return this._subscribe(e,t,!1)},Ie.prototype.once=function(e,t){return this._subscribe(e,t,!0)},Ie.prototype.off=function(e,t){if(this.events[e]&&0!==this.events[e].length){var r=this.events[e].filter(function(e){return e.eventHandler!==t});this.events[e]=[].concat(ne.m.arrayFromIterable(r)),0===this.events[e].length&&(this.events=Object.assign({},this.events,{eventName:[]}))}},Ie.prototype.destroy=function(){this.events={}},Ie.prototype.publish=function(e,t){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];this._publishEvent.apply(this,[e].concat(ne.m.arrayFromIterable(r))),this._publishLog.apply(this,[e].concat(ne.m.arrayFromIterable(r)))},Ie.prototype._subscribe=function(e,t,r){var i=this;return Object.prototype.hasOwnProperty.call(this.events,e)||(this.events[e]=[]),this.events[e]=[].concat(ne.m.arrayFromIterable(this.events[e]),[{eventHandler:t,once:r}]),function(){return i.off(e,t)}},Ie.prototype._publishEvent=function(t,e){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];var n=this;this.events[t]&&0<this.events[t].length&&this.events[t].forEach(function(e){e.eventHandler.apply(e,ne.m.arrayFromIterable(r)),e.once&&n.off(t,e.eventHandler)})},Ie.prototype._publishLog=function(e,t){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];this._publishEvent.apply(this,["log",e].concat(ne.m.arrayFromIterable(r)))},Ae.prototype.fire=function(e,t){if(e){var r=this.docInfo.topDocument.createElement("IMG");"function"==typeof t&&r.addEventListener("error",function(){return t()}),r.src=e}},Ae.prototype.fireEB=function(e,t,r){t=void 0===t?{}:t,e=this.getEBUrl(e,t),this.fire(e,r)},Ae.prototype.getEBUrl=function(e,t){return le(this.ebPath,e,Object.assign({},{inv_code:this.placement.invCode,aid:this.auctionId,rev:this.rev},t))},Ae.prototype.fireDyn=function(e){e=Object.assign({},{long1:null,long2:null,long3:null,string1:this.auctionId,string2:null,string3:null},e),e=le(this.ebPath,"dyn",e),this.fire(e)},Ae.prototype.firePerf=function(e){e=le(this.ebPath,"perf",{rev:this.rev,type:e.type,time_since_start:e.timeSinceStart,time_since_last:e.timeSinceLast,client_side_auction:+e.clientSideAuction,fid:e.formatId}),this.fire(e)},Ae.prototype.setAuctionId=function(e){return this.auctionId=e,this},Ae.prototype.getAuctionId=function(){return this.auctionId},Ae.prototype._setupListeners=function(){var t=this;this.eventController.on("auctionId",function(e){t.setAuctionId(void 0===e.id?null:e.id)})},be.prototype.handleRocketfuel=function(e){var t=this.auctionFrameWindow.document.createElement("iframe");g(t),t.src="about:blank",this.auctionFrameWindow.document.body.appendChild(t);var r=t.contentWindow.document;return r.open(),r.write(e),r.close(),t},be.prototype.newWriter=function(e){var t;try{if(0<e.indexOf("rfitag"))this.handleRocketfuel(e);else{var r=this.auctionFrameWindow.document.createElement("div");r.style.display="none",this.auctionFrameWindow.document.body.appendChild(r),r.innerHTML=e;var i=r.getElementsByTagName("script"),n=i.length;if(0!==n){var o=this.auctionFrameWindow.document.createElement("iframe");g(o),o.src="about:blank",o.className="tl_ext_iframe",this.auctionFrameWindow.document.body.appendChild(o);var a=o.contentWindow.document;for(a.open(),a.write('<script>window.addEventListener("message",function(msg){window.parent.postMessage(msg.data,"*");});<\/script>'),t=0;t<n;t++)if(i[t].text.length)a.write("<script>"+i[t].text+"<\/script>");else{var s=ue(i[t].src),c=s.queryKey;if("ad.turn.com"===s.host&&c.cid){var l=c.cid;o.setAttribute("data-ext-creative-id",l)}a.write('<script type="text/javascript" src="'+i[t].src+'"><\/script>')}a.close()}}}catch(e){throw new se("newWriter failed: "+e.message)}},be.prototype.onmessage=function(e){if(e&&e.data&&e.data.match&&(e.data.match("get_3p")||e.data.match("get_ext")||e.data.match("get_unit_2"))&&!this.thirdPartyMessage){this.thirdPartyMessage=!0;var t=this.auctionFrameWindow.document.createElement("SCRIPT");t.textContent=e.data,this.auctionFrameWindow.document.body.appendChild(t)}},be.prototype.setListeners=function(){this.auctionFrameWindow.addEventListener("message",this.decorator(this.onmessage.bind(this))),this.auctionFrameWindow.document.write=function(){}},we.prototype.initTLScript=function(){this.tlScript=this._getTLScript()},we.prototype.getHook=function(){return null===this.cachedHook&&(this.cachedHook=this._findHook()),this.cachedHook},we.prototype._findHook=function(){var e=this.tlScript;try{var t=this.docInfo.window;t!==top&&t.frameElement&&!this.placement.customOptions.friendlyIframeRender&&(e=this.isInActiveViewElement()?we.getTopFrame(t,"data-google-container-id"):we.getTopFrame(t))}catch(e){}for(t=+this.placement.replaceParent;t;)e=e.parentNode,t--;if(!e)throw new se("could not find hook");return e},we.prototype._getTLScript=function(){var t=this,e=[].slice.call(this.docInfo.document.getElementsByTagName("script")).find(function(e){return t._isValidTLScript(e)});return!!e&&(e.setAttribute("tl_id",Math.round(1e5*Math.random())),e)},we.prototype._isValidTLScript=function(e){var t=e.getAttribute("tl_id");return we.scriptSrcContains(e,this.environment.ttjHostName)&&we.scriptSrcContains(e,this.placement.invCode)&&!t},we.prototype.getAuctionResponsePseudoId=function(){return!!this.tlScript&&this.tlScript.getAttribute("data-auction-response-id")},we.prototype.getHeaderBiddingAuctionResponse=function(){var e=this.getAuctionResponsePseudoId();return this.docInfo.window["tl_auction_response_"+e]||null},we.prototype.getTagTemplateId=function(){return!!this.tlScript&&this.tlScript.getAttribute("data-template-id")},we.prototype._getScriptPath=function(){var e=this.getScriptSrc();return ue(e).path},we.prototype.getDtjTacticId=function(){var e=this._getScriptPath().split("/");return"dtj"===e[1]?e[3]:void 0},we.prototype.getScriptSrc=function(){return this.tlScript?this.tlScript.getAttribute("data-src")||this.tlScript.src:""},we.prototype.styleHook=function(){var e=this.getHook(),t="iframe"===e.tagName.toLowerCase(),r=!this.placement.customOptions.friendlyIframeRender,i=this.placement.customOptions.activeView,n=this.isInActiveViewElement();(t=t&&r&&(i||n&&this.canAbsolutelyPositionFrame(e)))&&Math.random()<this.settings.activeviewLogRate&&this.errorHandler.fireError("activeView",this.errorHandler.LOG),t?(this.allowAbsolutePositioning(e),this.positionFrameBehindAd(e)):this.hideHook(e)},we.prototype.canAbsolutelyPositionFrame=function(e){e=e.parentElement;var t=this.hasDefaultPosition(e)&&this.hasOffset(e);return!(!e||t)||(this.errorHandler.fireError("Cannot absolutely position ActiveView iframe. Parent is undefined, or has static position and offsets",this.errorHandler.WARNING),!1)},we.prototype.hasDefaultPosition=function(e){return e=ne.F.getPropertyValue(e,"position"),-1<["static",""].indexOf(e)},we.prototype.hasOffset=function(t){return!!["top","bottom","left","right"].find(function(e){return e=ne.F.getPropertyValue(t,e),0<parseFloat(e)})},we.prototype.positionFrameBehindAd=function(e){ne.F.setStyle(e,"position","absolute"),ne.F.setStyle(e,"visibility","hidden"),ne.F.setStyle(e,"top","0px"),ne.F.setStyle(e,"left","0px"),ne.F.setStyle(e,"pointer-events","none")},we.prototype.allowAbsolutePositioning=function(e){e=e.parentElement,this.hasDefaultPosition(e)&&ne.F.setStyle(e,"position","relative")},we.prototype.isInActiveViewElement=function(){return!!(this.tlScript&&this.tlScript.parentElement&&this.tlScript.parentElement.classList.contains("GoogleActiveViewElement"))},we.prototype.hideHook=function(e){ne.F.setStyle(e,"display","none"),ne.F.setStyle(e,"visibility","hidden"),ne.F.setStyle(e,"width","0px"),ne.F.setStyle(e,"height","0px")},we.getTopFrame=function(e,t){for(var r,i=!1;e!==top&&!i;)try{e.frameElement&&(r=e.frameElement),e=e.parent,t&&r.getAttribute(t)&&(i=!0)}catch(e){break}return r},we.scriptSrcContains=function(e,t){if(!t)return!1;var r=e.src;return e=e.getAttribute("data-src"),r=r&&-1<r.indexOf(t),t=e&&-1<e.indexOf(t),!(!r&&!t)},Me.needsBusting=function(e,t){if(e=!!e.iframeBuster){try{var r=t&&t==top}catch(e){r=!1}e=!r}return e},Me.bust=function(e,t){var r=ue(e.referrer),i=encodeURIComponent(e.URL),n=e.createElement("iframe");n.src=y("//"+r.host+"/doubleclick/TLIframe.html?docsrc="+i+"&script_src="+encodeURIComponent(t)),n.width=0,n.height=0,n.style.display="none",Me._hasBody(e)||(t=e.createElement("body"),e.firstElementChild.appendChild(t)),e.body.appendChild(n)},Me._hasBody=function(e){return!!e.body},Ee.prototype.layout=function(e){if(this.jQueryPresent&&(j(),jQuery.fn.isotope)){var t=jQuery(".isotope");if(1!==t.length)for(;e.parentNode;)jQuery.data(jQuery(e.parentNode),"isotope")?t=jQuery(e.parentNode):e=e.parentNode;t.data("isotope")||(t=!1),t&&t.isotope("reloadItems").isotope({sortBy:"original-order"})}},Ce.prototype.setPhaseAfterAuction=function(){this.phase="render"},Ce.prototype.setPhaseAfterRender=function(e){this.phase=e?"video":"post_render"},Ce.prototype.setPhaseAfterVideoStart=function(){this.phase="post_render"},Ce.prototype.setPhaseAfterPostRender=function(){this.phase="render_validation"},Ce.prototype.getPhase=function(){return this.phase},ne.m.global.Object.defineProperties(k.prototype,{activeView:{configurable:!0,enumerable:!0,get:function(){return this._activeView}},defaultHeadingOverride:{configurable:!0,enumerable:!0,get:function(){return this._defaultHeadingOverride}},defaultCaptionOverride:{configurable:!0,enumerable:!0,get:function(){return this._defaultCaptionOverride}},disableOutstreamVideoBehavior:{configurable:!0,enumerable:!0,get:function(){return this._disableOutstreamVideoBehavior}},disclosureOverride:{configurable:!0,enumerable:!0,get:function(){return this._disclosureOverride}},dontWaitForImageLoad:{configurable:!0,enumerable:!0,get:function(){return this._dontWaitForImageLoad}},friendlyIframeRender:{configurable:!0,enumerable:!0,get:function(){return this._friendlyIframeRender},set:function(e){this._friendlyIframeRender=e}},is3pAdPreview:{configurable:!0,enumerable:!0,get:function(){return this._is3pAdPreview},set:function(e){this._is3pAdPreview=e}},isAmp:{configurable:!0,enumerable:!0,get:function(){return this._isAmp}},maxUserSyncs:{configurable:!0,enumerable:!0,get:function(){return this._maxUserSyncs}},numCreatives:{configurable:!0,enumerable:!0,get:function(){return this._numCreatives}},playButtonUrl:{configurable:!0,enumerable:!0,get:function(){return this._playButtonUrl}},postBidIpvAutoplay:{configurable:!0,enumerable:!0,get:function(){return this._postBidIpvAutoplay}},referrerOverride:{configurable:!0,enumerable:!0,get:function(){return this._referrerOverride}},uniqueBrands:{configurable:!0,enumerable:!0,get:function(){return this._uniqueBrands}},uniqueCreatives:{configurable:!0,enumerable:!0,get:function(){return this._uniqueCreatives}},unwrappedUnit:{configurable:!0,enumerable:!0,get:function(){return this._unwrappedUnit},set:function(e){this._unwrappedUnit=e}},userSyncsDisabled:{configurable:!0,enumerable:!0,get:function(){return this._userSyncsDisabled}},verboseCreativeResponseToggle:{configurable:!0,enumerable:!0,get:function(){return this._verboseCreativeResponseToggle}},videoZIndexOverride:{configurable:!0,enumerable:!0,get:function(){return this._videoZIndexOverride}}}),ne.m.global.Object.defineProperties(Te.prototype,{async:{configurable:!0,enumerable:!0,get:function(){return this._async}},captionCharacterLimit:{configurable:!0,enumerable:!0,get:function(){return this._captionCharacterLimit}},headingCharacterLimit:{configurable:!0,enumerable:!0,get:function(){return this._headingCharacterLimit}},customOptions:{configurable:!0,enumerable:!0,get:function(){return this._customOptions}},cta:{configurable:!0,enumerable:!0,get:function(){return this._cta}},defaultCode:{configurable:!0,enumerable:!0,get:function(){return this._defaultCode}},demandEnabled:{configurable:!0,enumerable:!0,get:function(){return this._demandEnabled}},disclosure:{configurable:!0,enumerable:!0,get:function(){return this._disclosure},set:function(e){this._disclosure=e}},dvPlacementId:{configurable:!0,enumerable:!0,get:function(){return this._dvPlacementId}},id:{configurable:!0,enumerable:!0,get:function(){return this._id}},iframeBuster:{configurable:!0,enumerable:!0,get:function(){return this._iframeBuster}},iframeWrap:{configurable:!0,enumerable:!0,get:function(){return this._iframeWrap}},imageHeight:{configurable:!0,enumerable:!0,get:function(){return this._imageHeight},set:function(e){this._imageHeight=e}},imageWidth:{configurable:!0,enumerable:!0,get:function(){return this._imageWidth},set:function(e){this._imageWidth=e}},invCode:{configurable:!0,enumerable:!0,get:function(){return this._invCode}},logoBlackList:{configurable:!0,enumerable:!0,get:function(){return this._logoBlackList}},provenTemplate:{configurable:!0,enumerable:!0,get:function(){return this._provenTemplate},set:function(e){this._provenTemplate=e}},publisherId:{configurable:!0,enumerable:!0,get:function(){return this._publisherId}},replaceParent:{configurable:!0,enumerable:!0,set:function(e){this._replaceParent=e},get:function(){return this._replaceParent}},sharingEnabled:{configurable:!0,enumerable:!0,get:function(){return this._sharingEnabled}},staging:{configurable:!0,enumerable:!0,get:function(){return this._staging}},templateCode:{configurable:!0,enumerable:!0,get:function(){return this._templateCode},set:function(e){this._templateCode=e}},templates:{configurable:!0,enumerable:!0,get:function(){return this._templates}},timeoutDuration:{configurable:!0,enumerable:!0,get:function(){return this._timeoutDuration}},viewabilityTestingInfo:{configurable:!0,enumerable:!0,get:function(){return this._viewabilityTestingInfo}}}),ne.p(Te,"DEFAULT_CTA","See more"),ne.p(Te,"DEFAULT_DISCLOSURE","Sponsored by"),Se.prototype.wrapAd=function(e){var t=this.document.createElement("DIV");return t.style.display="inline",t.className="tlod",t.innerHTML=e,t},Se.insertAd=function(e,t,r){if(!t||!t.parentNode)throw new se("insertAd failed: hook element not on dom");var i=t.parentNode;!r||t.ownerDocument!==i&&"head"!==i.tagName.toLowerCase()?t.parentNode.insertBefore(e,t):t.ownerDocument.body.appendChild(e),F(e)},Se.serveDefaultFrame=function(e,t){if(!t)throw new se("serveDefaultFrame: tried to write default code but doc is unavailable");"complete"!==t.readyState&&t.open(),t.write(e),t.close()},De.prototype.serve=function(e,t){this.hasDefaulted||this.adRendered||(this.hasDefaulted=!0,De.renderDefault(this.defaultCode,this.hookFinder,this.docInfo),e=Object.assign({},v(this.pageInfo.get()),{rr:e}),t&&this.firePix.setAuctionId(t),this.firePix.fireEB("r",e),this.userSync&&this.userSync.doSyncIfAllDone())},De.prototype.setUserSync=function(e){this.userSync=e},De.renderDefault=function(e,t,r){e&&(r.window!==top?Se.serveDefaultFrame(e,r.window.document):(e=new Se(r).wrapAd(e),Se.insertAd(e,t.getHook())))},ne.m.global.Object.defineProperties(Pe.prototype,{prvSampleRate:{configurable:!0,enumerable:!0,get:function(){return this._settings.prv_sample_rate||0}},vastVendorsLogRate:{configurable:!0,enumerable:!0,get:function(){return this._settings.vast_vendors_log_rate||0}},pmdLogRate:{configurable:!0,enumerable:!0,get:function(){return this._settings.pmd_log_rate||0}},benchmarkLogRate:{configurable:!0,enumerable:!0,get:function(){return this._settings.benchmark_log_rate||0}},activeviewLogRate:{configurable:!0,enumerable:!0,get:function(){return this._settings.activeview_log_rate||0}}}),Oe.prototype.parse=function(e){e=Oe.makeTemplateWrapEl(Oe.getTransformedMacroSrcAttrs(e));for(var t=Oe.markElements(e),r=t.innerHTML;t.lastChild;)t.removeChild(t.lastChild);this._templateDetail.string=Oe.getInterpolatedMacroSrcAttrs(r),this._templateWrapEl=e,this._chosenTemplate=t},Oe.markElements=function(r){return r&&1===r.nodeType&&(Oe.isClickThroughEl(r)&&r.classList.add(ne.H.TL_CLASS_PREFIX+"clickthrough-url"),Oe.isLogoEl(r)&&r.classList.add(ne.H.TL_CLASS_PREFIX+"logo-img"),Oe.isSubHeadlineEl(r)&&r.classList.add(ne.H.TL_CLASS_PREFIX+"sub-headline"),[].forEach.call(r.childNodes,function(t){3===t.nodeType&&ne.H.TEXT_FIELDS.forEach(function(e){-1<t.textContent.toLowerCase().indexOf("%%%"+e+"%%%")&&r.classList.add(""+ne.H.TL_CLASS_PREFIX+e)}),Oe.markElements(t)})),r},Oe.isClickThroughEl=function(e){if(!e||!e.tagName||!e.getAttribute("href"))return!1;var t=e.tagName.toLowerCase();return e=e.getAttribute("href").toLowerCase(),"a"===t&&-1<e.indexOf("%%%clickthrough_url%%%")},Oe.isLogoEl=function(e){if(!e||!e.tagName||!e.getAttribute("tl-img-src-place-holder"))return!1;var t=e.tagName.toLowerCase();return e=e.getAttribute("tl-img-src-place-holder").toLowerCase(),"img"===t&&-1<e.indexOf("%%%logo_image_url%%%")},Oe.isSubHeadlineEl=function(e){return e&&e.tagName&&e.innerHTML&&"%%%subheadline%%%"===e.innerHTML.toLowerCase()},Oe.getTransformedMacroSrcAttrs=function(e){return e.replace(/src([="'\s]+%%%)/gi,"tl-img-src-place-holder$1").replace(/srcset([="'\s]+%%%)/gi,"tl-img-srcset-place-holder$1")},Oe.getInterpolatedMacroSrcAttrs=function(e){return e.replace(/tl-img-src-place-holder/g,"src").replace(/tl-img-srcset-place-holder/g,"srcset")},Oe.makeTemplateWrapEl=function(e){var t=document.createElement("div");return t.innerHTML=e,t},Oe.hasMacro=function(e){return-1!==e.indexOf("%%%")},Oe.prototype.getAltTemplate=function(e,t,r,i){var n=+i||+r||+t;return isNaN(Number(n))?{}:e?(t=A(e,function(e){return e.id===n}))?(e=Object.assign({},t),t=t.id,delete e.id,e=e,this._templateId=t,e):(this.errTemplateNotFound(n),{}):(this.errNoAltTemplates(),{})},Oe.prototype.errNoAltTemplates=function(){this._errorHandler.fireError("templateId specified but no templates found on placement. Default templateCode used.",this._errorHandler.WARNING)},Oe.prototype.errTemplateNotFound=function(e){this._errorHandler.fireError("Cannot find templateCode with id = "+e+" in templateList. Default templateCode used",this._errorHandler.WARNING)},ne.m.global.Object.defineProperties(Oe.prototype,{templateDetail:{configurable:!0,enumerable:!0,get:function(){return this._templateDetail}},chosenTemplate:{configurable:!0,enumerable:!0,get:function(){return this._chosenTemplate}},templateWrapEl:{configurable:!0,enumerable:!0,get:function(){return this._templateWrapEl}},templateId:{configurable:!0,enumerable:!0,get:function(){return this._templateId}}});var Qt={start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",resume:"AdPlaying",mute:"AdVolumeChange",unmute:"AdVolumeChange"};ne.Zb.prototype.init=function(e,t){this.moatApi||(e.setAttribute("data-auction-id",this._auctionID),e.setAttribute("data-video-context","inline"),this.moatApi=this._getMoatApi(t,e),this.cachedEvents.forEach(this._fireCachedEvent),this.cachedEvents=[])},ne.Zb.prototype.track=function(e){var t=this;this.moatApi?this._asyncUtil.timeoutWrap(function(){return t._fireTracker(e)},0):this.cachedEvents.push(e)},ne.Zb.prototype._fireCachedEvent=function(e){this._fireTracker(e)},ne.Zb.prototype._fireTracker=function(e){if(Qt[e]){var t="mute"===e||"unmute"!==e&&this._context.player.isMuted();this.moatApi.dispatchEvent({type:Qt[e],adVolume:t?0:1})}},ne.Zb.prototype._getMoatApi=function(e,t){return function(e,t,r,i,n){var o=document.createElement("script"),a=[];t={adData:{ids:t,duration:r,url:void 0},dispatchEvent:function(e){this.sendEvent?(a&&(a.push(e),e=a,a=!1),this.sendEvent(e)):a.push(e)}},r="_moatApi"+Math.floor(1e8*Math.random());try{var s=e.ownerDocument,c=s.defaultView||s.parentWindow}catch(e){s=document,c=window}return c[r]=t,o.type="text/javascript",e&&e.insertBefore(o,e.childNodes[0]||null),o.src="https://z.moatads.com/tripleliftvideojs305296359897/moatvideo.js#"+r,t}(t,this._getMoatIds(),Math.round(e/1e3))},ne.Zb.prototype._getMoatIds=function(){var e=this._creative.params;e=void 0===e.format_id?0:e.format_id;var t=this._creative.params.additional_data,r=void 0===t.tid?0:t.tid,i=void 0===t.clid?0:t.clid,n=void 0===t.bid?0:t.bid,o=void 0===t.bmid?0:t.bmid,a=this._placement,s=a.id;return a=a.publisherId,t=ne.Zb.makeZParamsString(this._creative,t),{level1:a.toString(),level2:s.toString(),level3:i.toString(),level4:e.toString(),slicer1:o.toString(),slicer2:n.toString(),zMoatTactic:r.toString(),zMoatPixelParams:t}},ne.Zb.makeZParamsString=function(e,t){return e=e.getParams().viewability.moat,[{key:"aid",val:t.aid||0},{key:"sr",val:e},{key:"uid",val:t.unid||0}].reduce(function(e,t){return e+t.key+":"+t.val+";"},"")};var Yt={moat:1,ias:2,dv:3,fk:4,apx:5,pix:6,adl:7,pix2:8,adel:9};B.prototype.appendTags=function(e){e=this.addViewabilityTestJS(e,window);for(var t=this.getIntegrations(),r=0;r<e.length;r++){for(var i=e[r],n=!1,o=0;o<t.length;o++)if(i&&i.match&&i.match(t[o].regex)){t[o].action(i),n=!0;break}n||this.defaultAction(i)}},B.prototype.getViewabilityID=function(){return this.viewabilityID||(this.viewabilityID=this.viewabilityElement.id||"tltpvid_"+Math.round(1e5*Math.random()),this.viewabilityElement.id=this.viewabilityID),this.viewabilityID},B.prototype.getViewabilityClass=function(){if(!this.viewabilityClass){if(this.viewabilityClass="tltpvclass_"+Math.round(1e5*Math.random()),!this.viewabilityElement||!this.viewabilityElement.classList)throw new se("getViewabilityClass failed: invalid viewabilityElement",this.errorHandler.WARNING);this.viewabilityElement.classList.add(this.viewabilityClass)}return this.viewabilityClass},B.prototype.appendScriptVE=function(e){var t=this.create3pScript(),r=this.mainImage;if(r.nextSibling)r.parentNode.insertBefore(t,r.nextSibling);else{var i=this.docInfo.document.createElement("IMG");i.style.display="none",r.parentNode.insertBefore(i,r),i.parentNode.insertBefore(r,i),i.parentNode.insertBefore(t,r.nextSibling),i.parentNode.removeChild(i)}t.src=e},B.prototype.appendScriptAd=function(e){var t=this.create3pScript();this.adDIV.appendChild(t),t.src=e},B.prototype.defaultAction=function(e){var t=this.create3pScript();this.viewabilityElement.appendChild(t),t.src=e},B.prototype.create3pScript=function(){var e=this.docInfo.document.createElement("SCRIPT");return e.className="tl-third-party",e},B.prototype.interpolateDimensions=function(e){var t=this.mainImage.getBoundingClientRect();return e.replace("[WIDTH]",t.width).replace("[HEIGHT]",t.height).replace("[CONTAINER_ID]",this.getViewabilityID())},B.prototype.getIntegrations=function(){var i=this;return[{regex:/cdn\.adnxs/,action:function(e){i.appendScriptAd(e.replace("%native_dom_id%",i.getViewabilityID()))}},{regex:/cdn\.doubleverify/,action:function(e){e=(e.match("findclass")?e:e+"&findclass=1").replace(/INSERT_SUPPLIER_ID/,"TripleLift").replace("[PLACEMENT_ID]",i.placement.id).replace("[DV_PLACEMENT_ID]",i.placement.dvPlacementId).replace(/INSERT_BTREG/,i.getViewabilityClass()).replace(/INSERT_BTADSRV/,i.getViewabilityClass()),i.appendScriptAd(e)}},{regex:/adsafeprotected/,action:function(e){var t=i.tacticDetails,r=void 0!==i.tacticDetails.advid;i.appendScriptVE(e.replace("$!{AD_ID}",i.placement.id).replace("$!{ADVERTISER_ID}",r?t.advid:"0").replace("$!{INSERTION_ORDER_ID}",r?t.ioid:t.bmid))}},{regex:/voicefive/,action:function(e){e=e.replace("[PLACEMENT_ID]",i.placement.placementID).replace("[TLVIEW_ID]",i.getViewabilityID()),i.appendScriptVE(e)}},{regex:/js\.moatads/,action:function(e){e=(e=e.replace("_PUBLISHER_",i.placement.publisherId).replace("_PLACEMENT_ID_",i.placement.id).replace("_CREATIVE_",i.tacticDetails.clid).replace("_FORMAT_",i.formatId).replace("[TACTIC]",i.tacticDetails.tid).replace("[DSP]",i.tacticDetails.bmid).replace("[BRAND]",i.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",ne.Zb.makeZParamsString(i.creative,i.tacticDetails))).match(/\[TLVIEW_ID]/)?e.replace("[TLVIEW_ID]",i.getViewabilityID()):e.concat("&tlview_id=",i.getViewabilityID()),i.appendScriptAd(e)}},{regex:/z\.moatads/,action:function(e){e=(e=e.replace("_PUBLISHER_",i.placement.publisherId).replace("_PLACEMENT_ID_",i.placement.id).replace("_CREATIVE_",i.tacticDetails.clid).replace("_FORMAT_",i.formatId).replace("[TACTIC]",i.tacticDetails.tid).replace("[DSP]",i.tacticDetails.bmid).replace("[BRAND]",i.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",ne.Zb.makeZParamsString(i.creative,i.tacticDetails))).match(/\[TLVIEW_ID]/)?e.replace("[TLVIEW_ID]",i.getViewabilityID()):e.concat("&tlview_id=",i.getViewabilityID()),i.appendScriptAd(e)}},{regex:/c\.betrad/,action:function(e){i.appendScriptAd(i.interpolateDimensions(e))}},{regex:/choices\.truste/,action:function(e){i.appendScriptAd(i.interpolateDimensions(e))}},{regex:/ybp\.yahoo/,action:function(e){i.appendScriptAd(e.replace("TLVIEW_ID",i.getViewabilityID()))}},{regex:/h6\.msn/,action:function(e){i.appendScriptAd(e.replace("TLVIEW_ID",i.getViewabilityID()))}},{regex:/fk\.unicornengine/,action:function(e){i.appendScriptAd(e.replace("TLVIEW_ID",i.getViewabilityID()).replace("PLACEMENT_ID",i.placement.id).replace("TIMESTAMP",Date.now()))}},{regex:/q\.adrta/,action:function(e){var t=i.getViewabilityID();e=e.includes("[DIV_ID]")?e.replace("[DIV_ID]",t):e+";divid="+t,i.appendScriptAd(e)}},{regex:/j\.adlooxtracking/,action:function(e){i.appendScriptAd(e.replace("[TLVIEW_ID]",i.getViewabilityID()))}},{regex:/aam\.a47b/,action:function(e){i.appendScriptAd(e.replace("[TLVIEW_ID]",i.getViewabilityID()))}}]},B.prototype.addViewabilityTestJS=function(e,t){var r=this,i=this.creative.getParams(),n=i.viewability||{},o={pid:this.placement.id,unid:i.additional_data.unid||0};if(this.creative.isAutoplay())return Object.keys(n).forEach(function(e){n[e]&&(o.vid=Yt[e],o.sr=n[e],r.firePix.fireEB("tpvpx",o))}),e;if(t="https:"===t.location.protocol,n.moat){i=t?"https://z.":"http://js.";var a=ne.Zb.makeZParamsString(this.creative,this.tacticDetails);e.push(i+"moatads.com/triplelift879988051105/moatad.js#moatClientLevel1=_PUBLISHER_&moatClientLevel2=_PLACEMENT_ID_&moatClientLevel3=_CREATIVE_&moatClientLevel4=_FORMAT_&moatClientSlicer1=[DSP]&moatClientSlicer2=[BRAND]&tlview_id=[TLVIEW_ID]&zMoatTactic=[TACTIC]&zMoatPixelParams="+a),o.vid=Yt.moat,o.sr=n.moat,this.firePix.fireEB("tpvpx",o)}return n.ias&&(e.push((t?"https:":"http:")+"//pixel.adsafeprotected.com/jload?anId=8617&advId=$!{ADVERTISER_ID}&campId=$!{INSERTION_ORDER_ID}&pubId=$!{INVENTORY_SOURCE_ID}&chanId=$!{PACKAGE_ID}&placementId=$!{AD_ID}&adsafe_url=$!{SITE_URL}&adsafe_type=v"),o.vid=Yt.ias,o.sr=n.ias,this.firePix.fireEB("tpvpx",o)),n.dv&&(e.push((t?"https:":"http:")+"//cdn.doubleverify.com/dvtp_src.js?ctx=2334102&cmp=2334104&sid=triplelift&plc=[DV_PLACEMENT_ID]&num=&adid=&advid=2334103&adsrv=0&region=30&btreg=INSERT_BTREG&btadsrv=INSERT_BTADSRV&crt=&crtname=&chnl=&unit=&pid=&uid=&tagtype=&dvtagver=6.1.src&findclass=1"),o.vid=Yt.dv,o.sr=n.dv,this.firePix.fireEB("tpvpx",o)),n.fk&&(e.push((t?"https:":"http:")+"//fk.unicornengine.net/ada/117/205667136/viewid=TLVIEW_ID;pid=PLACEMENT_ID/TIMESTAMP/"),o.vid=Yt.fk,o.sr=n.fk,this.firePix.fireEB("tpvpx",o)),n.apx&&(e.push((t?"https:":"http:")+"//cdn.adnxs.com/v/s/112/trk.js#v;tv=native-test;native=1;dom_id=%native_dom_id%;st=0;d=1x1;vc=iab;vid_ccr=1;an_sdk=1;tag_id=12350495;cb=http%3A%2F%2Ffra1-ib.adnxs.com%2Fvevent%3Fe%3DwqT_3QL5BqB5AwAAAwDWAAUBCJmth9MFEOG_loLBiueEIxiamLHqnKPMylkqNgkAAAECCAhAEQEHEAAACEAZCQkI8D8hCQkICEApEQkAMQkJsAAAMJ_o8QU4zhJAzhJIAlC994knWNSeH2AAaN7dGHjtyASAAQGKAQNVU0SSAQEG8FCYAQGgAQGoAQGwAQC4AQDAAQTIAQLQAQDYAQDgAQDwAQCKAjp1ZignYScsIDM5MzgwMSwgMTUxNjM2MTM2OSk7dWYoJ3InLCA4MTk1MTY3NywyHgDwnJIC-QEhNHpYcWVBaUVnTmtDRUwzM2lTY1lBQ0RVbmg4d0FEZ0FRQVJJemhKUW4tanhCVmdBWU1vSGFBQndDbmo0bVFHQUFiSURpQUZva0FFQm1BRUJvQUVCcUFFRHNBRUF1UUctMEV6RkFBQUlRTUVCdnRCTXhRQUFDRURKQVFSTHpPUll5OVFfMlFFQUFBQUFBQUR3UC1BQkFQVUIFDyhKZ0NBS0FDQUxVQwUQBEwwCQjwTE1BQ0FNZ0NBT0FDQU9nQ0FQZ0NBSUFEQVpBREFKZ0RBYWdEaElEWkFyb0RFV1JsWm1GMWJIUWpSbEpCTVRvek56QTSaAjkhdWdzcTl3NvwA9FQBMUo0ZklBUW9BRG9SWkdWbVlYVnNkQ05HVWtFeE9qTTNNRGcu2AKfCeACjKYO6gIzaHR0cDovL3Rlc3RwYWdlcy5tY2FyLW1hYy5hbGVudHkuZnIvMDFfYmFzaWNfc2luZ2xlgAMAiAMBkAMAmAMXoAMBqgMAwAOQHMgDANIDLAgCEigwMjhkZjRlMzY0MzdlOThmOWU5M2MzYWUwZjlmOTllNTEyYTI4Y2Vl0gMkCAQSIDg3NDdhOTk1OTQzODIyZjc4NzU0ZDIwNTg3ZjdiNGY32AMA4AMA6AMA-AMCgAQAkgQGL3V0L3YzmAQAogQKMTAuMi4xMi4xMagEvZNwsgQQCAAQARisAiD6ASgAMAA4ArgEAMAEAMgEANIEEWRlZmF1bHQjRlJBMTozNzA42gQCCAHgBADwBL33iSeIBQGYBQCgBf___________wHABQDJBQBF_xTwP9IFCQkFC1QAAADYBQHgBQHwBQH6BQQIABAAkAYA%26s%3D4604caf2bd786775fa256dca81881be0f0bb9312%26referrer%3D;ts=1516361369;cet=0;cecb="),o.vid=Yt.apx,o.sr=n.apx,this.firePix.fireEB("tpvpx",o)),n.pix&&(e.push((t?"https:":"http:")+"//q.adrta.com/s/tpl/aa.js?cb=[CACHEBUSTER]#tpl;paid=ss;avid=[ADVERTISER_ID];caid=[CAMPAIGN_ID];publisherId=[PUBLISHER_ID];kv24=[SUPPLY_TYPE];divid=[DIV_ID]"),o.vid=Yt.pix,o.sr=n.pix,this.firePix.fireEB("tpvpx",o)),n.adl&&(e.push((t?"https:":"http:")+"//j.adlooxtracking.com/ads/js/tfav_adl_321.js#platform=159&scriptname=adl_321&tagid=874&typejs=tvaf&fwtype=2&creatype=2&targetelt=tlview_id=[TLVIEW_ID]&custom2area=0&custom2sec=0&id1=tlview_id=[TLVIEW_ID]&id2=&id3=&id4=&id5="),o.vid=Yt.adl,o.sr=n.adl,this.firePix.fireEB("tpvpx",o)),n.adel&&(e.push((t?"https:":"http:")+"//aam.a47b.com/aam?asid=757a4107&ad=${CREATIVE_ID}&adv=${ADV_ID}&ca=${CP_ID}&cty=${USER_CITY}&ctr=${USER_COUNTRY}&did=${DEAL_ID}&df=${DEVICE_MAKE_ID}&dt=${DEVICE_MODEL_ID}&iid=${AUCTION_ID}&io=${IO_ID}&li=${CPG_ID}&ptnr=${PUBLISHER_ID}&pl=${TAG_ID}&ra=${CACHEBUSTER}&rg=${USER_STATE}&st=${SITE_ID}&sv=${SELLER_MEMBER_ID}&usr=${USER_ID}&zc=${POSTAL_CODE}&pelc=[TLVIEW_ID]"),o.vid=Yt.adel,o.sr=n.adel,this.firePix.fireEB("tpvpx",o)),e};var Gt=0,Zt=1,qt=2,Jt=3,Xt=4,Kt=6;Ne.prototype.passthru=function(e,t){this.shouldWaitForPassthru&&(this.shouldWaitForPassthru=!1,clearTimeout(this.passthruTimer),this.passthruClickTracker=w(e),this.macros="string"==typeof t?JSON.parse(t):t,this.macros=this.replaceAllDisplayClickMacros(this.macros),this.fireAllCachedTrackers(),this.expandAllClickThroughMacros(),this.creativeParams.nob_passthru&&this.creative.getVastTag()&&this.macros&&this.expandVastTrackers())},Ne.prototype.expandTracker=function(e){e.textContent=Ne._expandMacros(this.macros,e.textContent)},Ne.prototype.expandVastTrackers=function(){var t=this,r=this.creative.getVastTag();try{var i={impressions:r.getImpressionTrackers(),mediaFiles:r.getMediaFiles(),clickTrackers:r.getVideoClickTrackers(),clickthrough:r.getVastClickThrough(),assortedTrackers:r.getAssortedTrackers()};Object.keys(i).forEach(function(e){Array.isArray(i[e])?i[e].forEach(function(e){return t.expandTracker(e)}):i[e]&&t.expandTracker(i[e])})}catch(e){this.firePix.fireDyn({long1:457,string2:JSON.stringify(r.getVastWrapperBreadcrumbs())}),this.errorHandler.fireError(e,this.errorHandler.ERROR)}},Ne.prototype.fireAllCachedTrackers=function(){this.firePreviousClicks(),this.fireCachedTrackers(),this.fireCachedJs()},Ne.prototype.expandAllClickThroughMacros=function(){var r=this,e={};this.creativeParams=Object.assign({},this.creativeParams,(e.clickthrough_url=this.expandClickThroughMacro(this.creativeParams),e.allImages=this.creativeParams.allImages.map(function(e){var t={};return Object.assign({},e,(t.clickthrough_url=r.expandClickThroughMacro(e),t))}),e))},Ne.prototype.expandClickThroughMacro=function(e){var t=Ne._expandMacros(this.macros,e.origClickThroughUrl);return this.creative.expandAndRedirectClickThrough(e,t)},Ne.prototype.replaceAllDisplayClickMacros=function(r){return null!=r&&Object.keys(r).forEach(function(e){var t=w(r[e]);r[e]=t}),r},Ne.prototype.fireCachedTrackers=function(){var t=this;this.cachedTrackers.map(function(e){return Ne._expandMacros(t.macros,e)}).forEach(function(e){return t.firePix.fire(e)})},Ne.prototype.fireCachedJs=function(){this.isCachedAppendJsEvent&&this.appendJs()},Ne.prototype.firePreviousClicks=function(){for(var e=Ne._expandMacros(this.macros,this.passthruClickTracker),t=0;t<this.numClicks;t++)this.firePix.fire(e)},Ne.prototype.billOrWait=function(){var e=this.creativeParams.billable_event;e&&e!==Gt&&e!==Zt||this.bill()},Ne.prototype.bill=function(){this.hasBilled||(this.hasBilled=!0,this.creativeParams.billable_pixel&&this.firePix.fire(this.creativeParams.billable_pixel),this.creativeParams.nob_passthru?this._startPassthruTimer():(this.shouldWaitForPassthru=!1,this.fireAllCachedTrackers()),this.creativeParams.ad_markup&&this.auctionIframeWriterOverride.newWriter(this.creativeParams.ad_markup))},Ne.prototype.fire3pTracker=function(e){this.shouldWaitForPassthru?this.cacheTracker(e):this.firePix.fire(Ne._expandMacros(this.macros,e))},Ne.prototype.cacheTracker=function(e){this.cachedTrackers.push(e)},Ne.prototype.fireImpression=function(){var t=this;this.creativeParams.thirdPartyTrackers.impressionPixels.forEach(function(e){return t.fire3pTracker(e)})},Ne.prototype.fireClick=function(e){this.numClicks++,e=(void 0===e?this.creativeParams:this.creativeParams.allImages[e]).thirdPartyTrackers.clickPixels,this.passthruClickTracker&&(e=e.concat([this.passthruClickTracker])),this.creativeParams.billable_event===Xt&&this.bill(),e.forEach(this.fire3pTracker.bind(this))},Ne.prototype.fireViewable=function(){this.creativeParams.billable_event===qt&&this.bill(),this.creativeParams.thirdPartyTrackers.viewabilityPixels.forEach(this.fire3pTracker.bind(this))},Ne.prototype.fireOnePxViewable=function(){this.creativeParams.billable_event===Kt&&this.bill()},Ne.prototype.firePlay=function(){this.creativeParams.billable_event===Jt&&this.bill()},Ne.prototype.appendJsOnPassthru=function(e,t){this.thirdPartyJS=new B({docInfo:this.docInfo,placement:this.placement,mainImage:t,adDIV:e,tacticDetails:this.creativeParams.additional_data,formatId:this.creativeParams.format_id},{creative:this.creative,firePix:this.firePix}),this.shouldWaitForPassthru?this.isCachedAppendJsEvent=!0:this.appendJs()},Ne.prototype.appendJs=function(){var t=this;this.thirdPartyJS.appendTags((this.creativeParams.thirdPartyTrackers.jsTrackers||[]).map(function(e){return Ne._expandMacros(t.macros,e)}))},Ne._expandMacros=function(e,t){if(!e||!t)return t;var r=t;return I(e,function(e,t){e="%"===e[0]&&"{"===e[1]?"$"+e.slice(1):"%"===e[0]&&"["===e[1]?"{"+e.slice(2,e.length-1)+"}":e[0]+e.slice(3,e.length),e=new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),r=r.replace(e,t)}),r},Ne.prototype._startPassthruTimer=function(){var e=this;this.passthruTimer=setTimeout(function(){e.errorHandler.fireError("Passthru invocation timed out",e.errorHandler.ERROR)},8e3)},Le.prototype.doSync=function(){if(!this.tlSyncDone){var e;this.tlSyncDone=!0;var t={},r=this.placement.customOptions.maxUserSyncs;r&&(t.max=r),this.debugFlag&&(t.debug=1),null!==(e=this.gdpr)&&void 0!==e&&e.cmpData&&(t.gdpr=this.gdpr.cmpData.gdprApplies,this.gdpr.cmpData.consentString&&(t.cmp_cs=this.gdpr.cmpData.consentString)),(e=document.createElement("iframe")).addEventListener("load",ne.Ca.bind(null,e)),e.src=le(this.environment.ebPath,"sync",t),g(e),document.body.appendChild(e)}},Le.prototype.doSyncIfAllDone=function(){if(0==--this.window._tlTagsPending)if("complete"===this.window.document.readyState)this.doSync();else{var e=this;this.window.addEventListener("load",function(){e.doSync()},!1)}},xe.prototype.isFunction=function(e){return"function"==typeof e},xe.prototype.addScrollListener=function(e,t){return e=void 0===e?window:e,this.isFunction(this.errorDecorator)&&(t=this.errorDecorator(t)),e.addEventListener("DOMContentLoaded",t,!1),e.addEventListener("load",t,!1),e.addEventListener("scroll",t,!1),e.addEventListener("resize",t,!1),t},xe.prototype.addResizeListener=function(e,t){return this.isFunction(this.errorDecorator)&&(t=this.errorDecorator(t)),e.addEventListener("DOMContentLoaded",t,!1),e.addEventListener("load",t,!1),e.addEventListener("resize",t,!1),t},xe.prototype.listen=function(e,t,r,i,n){return this.isFunction(this.errorDecorator)&&(r=this.errorDecorator(r)),n&&(r=this.decorateStopAndPrevent(r)),e.addEventListener(t,r,i),r},xe.prototype.decorateStopAndPrevent=function(n){return function(e,t){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];e.stopPropagation(),e.preventDefault(),n.apply(this,r)}},xe.prototype.timeoutWrap=function(e,t){return e=this.isFunction(this.errorDecorator)?this.errorDecorator(e):e,setTimeout(e,t)},Re.prototype.listenForPercentageAdViewability=function(e,t){var r=this,i=Re.getRequiredPct(e),n=0;this.setListener({handler:t,condition:function(){var e=0!==n;if(e&&1e3<=performance.now()-n)return!0;var t=r.positionService.getAdPctInView()>=i;return t&&!e?n=performance.now():!t&&n&&(n=0),!1}})},Re.prototype.listenForOnePxAdViewability=function(t){function r(){return 0<i.positionService.getAdPctInView()}var i=this;this.setListener({handler:t,condition:r}),this.eventController.on("positionUpdate",function e(){r()&&(i.eventController.off("positionUpdate",e),t())})},Re.getRequiredPct=function(e){return 242500<=e.clientWidth*e.clientHeight?.3:.5},Re.prototype.setListener=function(e){this.listeners.push(e),this.listen()},Re.prototype.listen=function(){var e=this;if(!(0<this.listenerTimeoutId)){var t=function(){e.listeners=e.listeners.filter(function(e){return!e.condition()||(e.handler(),!1)}),e.listenerTimeoutId=0<e.listeners.length?e.asyncUtil.timeoutWrap(t,100):0};this.listenerTimeoutId=this.asyncUtil.timeoutWrap(t,100)}},je.prototype.log=function(e,t){if(t=void 0===t?performance.now():t,this.shouldLog){var r=t-this.ttjStartTime,i=this.lastMetricTime?t-this.lastMetricTime:0;this.lastMetricTime=t,this._logPerformanceDyn(e,r,i),this._logPerformanceEB(e,r,i)}},je.prototype.setFormatId=function(e){this.formatId=e},je.prototype.setIsHeaderBidding=function(e){this.isHeaderBidding=e},je.prototype._logPerformanceDyn=function(e,t,r){e={string2:this.revision,string3:this.isHeaderBidding?"header"+e.replace(/^./,function(e){return e.toUpperCase()}):e,long1:60003,long2:t,long3:r},this.firePix.fireDyn(e)},je.prototype._logPerformanceEB=function(e,t,r){t<=15e3&&this.firePix.firePerf({type:e,timeSinceStart:t,timeSinceLast:r,clientSideAuction:!this.isHeaderBidding,formatId:this.formatId})},ne.p(je,"BUNDLE_LOAD_TIME","bundleLoadTime"),ne.p(je,"AUCTION_START","auctionStart"),ne.p(je,"AUCTION_RESPONSE","auctionResponse"),ne.p(je,"RENDER","render"),ne.p(je,"AD_ON_PAGE","adOnPage"),Q.prototype.initParams=function(){var r=this,e=this.creativePayload.assets;e=(e=(e=e.map(function(e){return r.processClickThroughUrl(e)})).map(function(e){return r._appendThirdPartyTrackers(e)})).map(function(e){var t=r.placement.headingCharacterLimit;return t=void 0===t?100:t,t={caption:z(e.caption,r.placement.captionCharacterLimit),heading:z(e.heading,t)},Object.assign({},e,t)}),this.params=this.makeParams(e)},Q.prototype.makeParams=function(e){var t=H(e,this.tlImageId)||e[Math.floor(Math.random()*e.length)];(t=Object.assign({},this.creativePayload.settings,t)).allImages=e,t.heading=this._getHeading(t),t.caption=this._getCaption(t),t.advertiser_name=this._getAdvertiserName(t),t.isCSR=t.client_side_render||+t.image_id<0,e=ne.H.DEFAULT_ADCHOICES_URL,e=c(t.adchoices_url)||e,t.adchoices_url=e,t.logo_image_url=c(t.logo_image_url||t.light_logo_url),t.render_options_bm=t.render_options_bm||0,t.orig_image_url=t.image_url;var r=(e=this._getProcessedImageUrlAndSrcSet(t,this.templateDetail)).srcSet;return t.image_url=e.processedImageUrl,t.image_srcset_2x=r,t},Q.prototype._getAdvertiserName=function(e){var t=this.placement.customOptions.disclosureOverride;return"Advertising Partner"===e.advertiser_name&&"string"==typeof t?(this.placement.disclosure=t,""):e.advertiser_name},Q.prototype._getHeading=function(e){e=e.heading;var t=this.placement.customOptions.defaultHeadingOverride;return t&&e&&"sponsored video"===e.toLowerCase()?t:e},Q.prototype._getCaption=function(e){e=e.caption;var t=this.placement.customOptions.defaultCaptionOverride;return t&&e&&"watch to learn more"===e.toLowerCase()?t:e},Q.prototype.doesFormatUseTemplateImgTag=function(){return-1<[this.environment.formats.image,this.environment.formats.video].indexOf(this.formatId)},Q.prototype._getProcessedImageUrlAndSrcSet=function(e,t){var r=null;return this.formatId===this.environment.formats.cinemagraph?e=this._determineAnimatedUrl(e):e.image_url&&this.doesFormatUseTemplateImgTag()?e.isCSR?e=e.image_url:(r={url:e.orig_image_url,imgServerParams:e.img_server_params,tlImgAddr:this.environment.tlImageAddr,placementWidth:this.placement.imageWidth,placementHeight:this.placement.imageHeight,logoBlackList:this.placement.logoBlackList,noLogo:e.customization&&e.customization.reveal,templateDetail:t},e=this.createDynamicImageURL(r),r=this._createImageSrcset(Object.assign({},r,{placementWidth:2*this.placement.imageWidth,placementHeight:2*this.placement.imageHeight}))):e=ne.H.TINY_IMG_DATA,{processedImageUrl:e,srcSet:r}},Q.prototype.expandAndRedirectClickThrough=function(e,t){if(t=void 0===t?null:t,e.origClickThroughUrl){var r=this.creativePayload.settings.additional_data,i=e.asset_id||this.creativePayload.settings.asset_id,n=r.tid,o=this.expandFirstPartyMacros(n,i,this.clickTrackerDTJ);return t=null===t?e.origClickThroughUrl:t,t=this.expandFirstPartyMacros(n,i,t),o&&(t=(o=decodeURIComponent(o))+(t=encodeURIComponent(t))),o=r,r=this.environment.ebPath,o=void 0===o?{}:o,o=Object.assign({},{tl_clickthrough:!0,redir:t,tluid:o.uid},o),t=le(r,"pass",o),e.clickthrough_url=t}},Q.prototype.processClickThroughUrl=function(e){var t=e.clickthrough_url||this.creativePayload.settings.clickthrough_url;return(e.origClickThroughUrl=t)&&(e.clickthrough_url=this.expandAndRedirectClickThrough(e)),e},Q.prototype.expandFirstPartyMacros=function(e,t,r){if(!r)return null;var i=this.pageInfo.get().ref;return i=ue(i).host,r=(r=(r=(r=(r=(r=r.replace(/\[domain]/gi,i)).replace(/\[placement_id]/gi,this.placement.id)).replace(/\[campaign]/gi,e)).replace(/\[ad]/gi,t)).replace(/\[timestamp]/gi,(new Date).getTime())).replace(/%time%/gi,(new Date).getTime()),(r=(r=(r=(r=w(r)).replace(/\[cachebuster]/gi,Math.floor((1e10+1)*Math.random()))).replace(/\[random_number]/gi,Math.floor((1e10+1)*Math.random()))).replace(/\${cachebuster}/gi,Math.floor((1e10+1)*Math.random()))).replace(/{isfallback}/gi,this.creativePayload.settings.isFallbackAssets)},Q.prototype.createDynamicImageURL=function(e){var t=e.url,r=e.tlImgAddr,i=e.placementWidth,n=e.placementHeight,o=e.imgServerParams||"",a=e.logoBlackList||"";return e.noLogo&&(o=_(o,"lp"),a="NW,NE,SE,SW"),e=[],n=this.templateDetail.height||("0"===n?NaN:n),e.push("width="+(this.templateDetail.width||("0"===i?NaN:i))),e.push("height="+n),e.push("url="+encodeURIComponent(t)),e.push("logo_exclude="+a),y("//"+r+"/?"+e.join("&")+"&"+o)},Q.prototype.createAllDynamicImageURLS=function(t){var r=this,i=this.placement.imageWidth,n=this.placement.imageHeight;return this.params.allImages.map(function(e){return r.createDynamicImageURL({url:e.image_url,imgServerParams:e.img_server_params,noLogo:t,tlImgAddr:r.environment.tlImageAddr,placementHeight:n,placementWidth:i,logoBlackList:"SE,SW,NW"})})},Q.prototype.isBanner=function(){return this.formatId===this.environment.formats.header_direct_banner},Q.prototype.isCarousel=function(){return this.formatId===this.environment.formats.carousel},Q.prototype.isImage=function(){return this.formatId===this.environment.formats.image},Q.prototype.isCinemagraph=function(){return this.formatId===this.environment.formats.cinemagraph},Q.prototype.isScroll=function(){return this.formatId===this.environment.formats.scroll},Q.prototype.isWindow=function(){return this.formatId===this.environment.formats.skylight},Q.prototype.isPharma=function(){return this.formatId===this.environment.formats.pharma},Q.prototype.isHdx=function(){return this.formatId===this.environment.formats.header_direct_banner},Q.prototype.isVast=function(){return!1},Q.prototype.isAutoplay=function(){return!1},Q.prototype.isAdChoicesOptOut=function(){return!!ne.oa(this.params.render_options_bm,this.environment.renderOptionsMap.adchoices_opt_out)},Q.prototype.shouldVideoPauseOutOfView=function(){var e=this.placement.customOptions.disableOutstreamVideoBehavior,t=ne.oa(this.params.render_options_bm,this.environment.renderOptionsMap.video_pause_out_view);return e||t},Q.prototype.getParams=function(){return this.params},Q.prototype.getBaseZIndex=function(){return ne.H.BASE_Z_INDEX},Q.prototype.getVastTag=function(){return null},Q.prototype.needsViewabilityAwareness=function(){return this.isScroll()||this.isWindow()},Q.prototype.hasClickThrough=function(){return!!this.params.clickthrough_url},Q.prototype._appendThirdPartyTrackers=function(e){var t=this.creativePayload.settings,r=e.clickthrough_pixels||t.clickthrough_pixels||[],i=e.viewability_pixels||t.viewability_pixels||[],n=e.js_trackers||t.js_trackers||[],o=e.impression_pixels||t.impression_pixels||[],a=this._getClickTracker(e);if(a&&r.push(a),(a=e.third_party_duplicate_rate||t.third_party_duplicate_rate)&&Math.random()<a)if(o){a=o.slice();for(var s=0;s<a.length;s++)-1<a[s].indexOf("?")?a[s]+="&tlcb=${CACHEBUSTER}":a[s]+="?tlcb=${CACHEBUSTER}";o=o.concat(a)}else o=[];return t=this.expandFirstPartyMacros.bind(this,t.additional_data.tid,e.asset_id||t.asset_id),r={impressionPixels:o.map(t),clickPixels:r.map(t),viewabilityPixels:i.map(t),jsTrackers:n.map(t)},Object.assign(e,{thirdPartyTrackers:r})},Q.prototype._determineAnimatedUrl=function(e){if(!e.animation_variants||!e.animation_variants.length||this.debug)return e.image_url;var t=e.animation_variants,r=100*Math.round((this.placement.imageWidth+100)/100),i=r&&-1<t.indexOf(r);return!i&&this.isSmallScreen&&(r=Math.max.apply(null,t),i=!0),e=i?(t=Math.round(e.image_height/e.image_width*r),Object.assign(e,{focal_box:W(e,r,t)},{image_width:r,image_height:t}),e.image_url.replace(".gif","_a"+r+".gif")):e.image_url},Q.prototype._createImageSrcset=function(e){return this.createDynamicImageURL(e)+" 2x"},Q.prototype._getClickTracker=function(e){if(e.click_tracker_url){var t=e.click_tracker_encoding_level;e=e.click_tracker_url}else t=this.creativePayload.settings.click_tracker_encoding_level,e=this.creativePayload.settings.click_tracker_url;return e?V(e,t):e},ne.m.inherits(Y,Q),Y.prototype.initParams=function(){var e;Q.prototype.initParams.call(this),0<(null===(e=this._getCarouselWeights())||void 0===e?void 0:e.length)?this._setAllImagesWeighted():this._setAllImages()},Y.prototype.getAllImages=function(){return this.allImages},Y.prototype.getAllDynamicImageURLS=function(t){var r=this,i=this.placement.imageWidth,n=this.placement.imageHeight;return this.allImages.map(function(e){return r.createDynamicImageURL({url:e.image_url,imgServerParams:e.img_server_params,noLogo:t,tlImgAddr:r.environment.tlImageAddr,placementHeight:n,placementWidth:i,logoBlackList:"SE,SW,NW"})})},Y.prototype._setAllImages=function(){this.allImages=ne.eb(this.params.allImages,10)},Y.prototype._setAllImagesWeighted=function(){this._validateImageIds(),this._validateWeight(),this._validateWeightsSum();var e=this._chooseFirstImage();this._swapFirstImage(e),this.allImages=this.params.allImages.slice(0,10)},Y.prototype._chooseFirstImage=function(){var r=this._getCarouselWeights(),e=this._getWeightsSum(),i=Math.random()*e,n=0;return r.find(function(e,t){return n+=r[t].weight,i<n})},Y.prototype._getWeightsSum=function(){return this._getCarouselWeights().reduce(function(e,t){return e+t.weight},0)},Y.prototype._getCarouselWeights=function(){var e,t;return null===(e=this.params)||void 0===e?void 0:null===(t=e.customization)||void 0===t?void 0:t.carousel_weights},Y.prototype._validateImageIds=function(){var e=this._getCarouselWeights().map(function(e){return e.image_id}),t=this.params.allImages.map(function(e){return e.image_id});e.every(function(e){return t.includes(e)})||this.errorHandler.fireError("There are image_ids in carousel_weights that do not map to an image in the creative.",this.errorHandler.WARNING)},Y.prototype._validateWeightsSum=function(){var e=this._getWeightsSum();(e<.99||1.01<e)&&this.errorHandler.fireError("Carousel_weights do not sum to 1 within a tolerance of 1%",this.errorHandler.WARNING)},Y.prototype._validateWeight=function(){var t=this;this._getCarouselWeights().forEach(function(e){e.weight||(e.weight=0,t.errorHandler.fireError("Image id: "+e.image_id+" does not have an associated weight, defaulted to 0.",t.errorHandler.WARNING))})},Y.prototype._swapFirstImage=function(t){var e=this.params.allImages.findIndex(function(e){return e.image_id===t.image_id}),r=this.params.allImages[e];this.params.allImages[e]=this.params.allImages[0],this.params.allImages[0]=r},ne.Pe=ne.H.TL_CLASS_PREFIX+"video",ne.Qe={vpaidZIndex:1e9,nonVpaidZIndex:1,type:{vast:1,vpaid:2}},ne.m.inherits(G,Q),G.prototype.getVastTag=function(){return this.vastTag},G.prototype.setVastTag=function(e){this.vastTag=e},G.prototype.isVast=function(){return!0},G.prototype.isAutoplay=function(){var e=this.environment.formats;return+this.formatId==+e.autoplay||+this.formatId==+e.outstream_video},G.prototype.getBaseZIndex=function(){return this.vastTag&&this.vastTag.isVpaid()?this.placement.customOptions.videoZIndexOverride||ne.Qe.vpaidZIndex:ne.Qe.nonVpaidZIndex},G.prototype.needsViewabilityAwareness=function(){return this.isAutoplay()},G.prototype.allowVpaidToHandleClicks=function(){return!(!this.vastTag.isVpaid()||!this.isAutoplay()||this.hasClickThrough())},G.prototype.hasClickThrough=function(){return!(!Q.prototype.hasClickThrough.call(this)&&!this.vastTag.getVastClickThroughUrl())},ke.create=function(e){var t=e.creativePayload.settings.format_id,r=e.environment.formats,i=[r.video,r.autoplay,r.outstream_video];return t===r.carousel?new Y(e):i.includes(t)?new G(e):new Q(e)};var $t={assets:[{asset_id:0,image_id:0,image_url:ne.H.DEFAULT_PSA_URL,image_w_over_h:1.7778,clickthrough_url:"http://www.doubleverify.com",heading:"",caption:"",cv_version:1,img_server_params:"v=0&cv_version=1"}],settings:{format_id:1,tactic_id:0,line_item_id:0,insertion_order_id:0,creative_library_id:0,advertiser_name:"Sponsor",additional_data:{clid:0,ioid:0,liid:0,tid:0,advid:0,bmid:0,aid:1}}};Ue.prototype.callDV=function(){var t=this,e=this._makeScriptsString();return this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(e),this.iframe.contentWindow.document.close(),this._handler().catch(function(e){return t._onError(e),t._overwriteCreativePayloadWithPSA()})},Ue.prototype._handler=function(){var r=this;return new Promise(function(e,t){r.iframe.contentWindow.onerror=function(e){t(e)},setTimeout(function(){t(new se("DoubleVerify timeout"))},1e4),r.iframe.contentWindow.blockCreative=function(){r.errorHandler.fireError("DoubleVerify blocked creative, PSA displayed",r.errorHandler.LOG),r._overwriteCreativePayloadWithPSA(),e()},r.iframe.contentWindow.allowCreative=e})},Ue.prototype._onError=function(e){this.errorHandler.fireError(e,this.errorHandler.ERROR)},Ue.prototype._overwriteCreativePayloadWithPSA=function(){this.creativePayload.settings=$t.settings,this.creativePayload.assets=$t.assets},Ue.makeIframe=function(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e},Ue.prototype._makeScriptsString=function(){return'\n      <script type="text/adtag"><script type="text/javascript">allowCreative();</scr+ipt><\/script>\n      <script type="text/passback"><script type="text/javascript">blockCreative();</scr+ipt><\/script>\n      <script onerror="(function(el){el.onerror=\'this._onerror})(this)" type="text/javascript" src="'+this.creativePayload.settings.dco_tag_url+'"><\/script>\n    '},Fe.prototype.getCMPData=function(){var t,r,i,n=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:if(e.setCatchFinallyBlocks(2,3),"function"==typeof n.win.__cmp)return e.yield(n.callCmp("__cmp","getConsentData",null,"consentData"),9);if("function"==typeof n.win.__tcfapi)return n._isProxyNeeded&&n.createParentProxy(),r=document.getElementById("tl-app")?"getInAppTCData":"getTCData",e.yield(n.callCmp("__tcfapi",r,2,"tcString"),8);e.jumpTo(6);break;case 8:t=e.yieldResult,e.jumpTo(6);break;case 9:t=e.yieldResult;case 6:return t&&(n._gdprCmpData={gdprApplies:!!t.gdprApplies,consentString:t.consentData||t.tcString}),e.return(n._gdprCmpData);case 3:e.enterFinallyBlock(),clearTimeout(n.cmpTimeout),e.leaveFinallyBlock(0);break;case 2:throw i=e.enterCatchBlock(),new se("There was an error in the publisher CMP API: "+(i.message?i.message:i),ae.LOG)}})},Fe.prototype.callCmp=function(r,i,n,o){var a=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return e.return(new Promise(function(e,t){a.cmpTimeout=setTimeout(function(){return Fe.handleTimeout(t,i)},1e3),a.win[r](i,n,Fe.handleCmpResponse(e,o,i))}))})},Fe.handleCmpResponse=function(t,r,i){return function(e){if(!Fe.isCmpDataValid(e,r))throw new se("CMP "+i+" command did not return a valid consent object",ae.LOG);return t(e)}},Fe.handleTimeout=function(e,t){e(new se("CMP "+t+" timeout",ae.LOG))},Fe.isCmpDataValid=function(e,t){return"object"==typeof e&&"boolean"==typeof e.gdprApplies&&("string"==typeof e[t]||null===e[t])},Fe.prototype.createParentProxy=function(){var o,a={};o=this.win,window.__tcfapi=function(e,t,r,i){var n=""+Math.random();e={__tcfapiCall:{command:e,parameter:i,version:t,callId:n}},a[n]=r,o.postMessage(e,"*")},window.addEventListener("message",function(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){throw new se("Invalid data from CMP API",ae.LOG)}(e=t.__tcfapiReturn)&&"function"==typeof a[e.callId]&&(a[e.callId](e.returnValue,e.success),a[e.callId]=null)},!1)},Fe.getTcfapiWindow=function(e){try{for(;e;){var t,r;if(null!==(t=e)&&void 0!==t&&(null!==(r=t.frames)&&void 0!==r&&r.__tcfapiLocator))return e;if(e===window.top)break;e=e.parent}}catch(e){ce(.01,function(){throw new se("Error getting _tcfapiLocator: "+e,ae.LOG)})}return null},Fe.getCmpApiWindow=function(e){return"function"==typeof e.__cmp||"function"==typeof e.__tcfapi?e:Fe.getTcfapiWindow(e)},ne.m.global.Object.defineProperties(Fe.prototype,{cmpData:{configurable:!0,enumerable:!0,get:function(){return this._gdprCmpData}}});var er=0,tr=1,rr=2,ir=3,nr=4,or=5,ar=6,sr=7,cr=[er,sr,tr,nr,ar,ir],lr=[er,tr,sr],ur=[er,sr,tr,nr,ar,or,ir],dr=[or,rr,nr,ar,ir];Be.prototype.get=function(){if(this.cachedPageInfo)return this.cachedPageInfo;var e;if(this.docInfo.canAccessTop){var t=ue(this.docInfo.topDocument.referrer).host;t="undefined"===t?"":t;var r=this.docInfo.topDocument.URL}else t="can't access top document",this.placement.customOptions.isAmp?r=this.getAmpReferrer():(r=this.docInfo.document.referrer,(e=this.placement.customOptions.referrerOverride)&&0<=e.indexOf(ue(r).host)&&(r=document.URL));return r?r.length<=600||(r=-1!==(r=r.slice(0,600)).lastIndexOf("&")?r.slice(0,r.lastIndexOf("&")):r):r="",this.cachedPageInfo={domain:this.docInfo.document.domain,ref:r,pr:t||"un"}},Be.prototype.getAmpReferrer=function(){var e=ue(this.docInfo.document.URL);try{var t=JSON.parse(e.anchor)}catch(e){t={}}var r=ue(this.docInfo.document.referrer);return(e=Object.assign({},e.queryKey,r.queryKey,t)).url?decodeURIComponent(e.url):e._context&&e._context.canonicalUrl?e._context.canonicalUrl:e.top?decodeURIComponent(e.top):e.loc?decodeURIComponent(e.loc):e.iu?decodeURIComponent(e.iu):this.docInfo.document.referrer},Be.prototype.getFrameType=function(){return null!==this.cachedFrameType?this.cachedFrameType:this.cachedFrameType=this._determineFrameType()},Be.prototype._determineFrameType=function(){return this.getAmpApi()?nr:this.getMraidApi()?ar:this.getSafeFrameApi()?or:document.getElementById("tl-app")?ir:this.docInfo.canAccessTop?this.docInfo.document===this.docInfo.topWindow.document?er:this.placement.customOptions.friendlyIframeRender?sr:tr:rr},Be.prototype.isNoFrame=function(){return this.getFrameType()===er},Be.prototype.isUnfriendlyFrame=function(){return this.getFrameType()===rr},Be.prototype.isFriendlyFrame=function(){return this.getFrameType()===tr},Be.prototype.isFriendlyFrameRender=function(){return this.getFrameType()===sr},Be.prototype.isClientAware=function(){return-1<cr.indexOf(this.getFrameType())},Be.prototype.isPositionAware=function(){return-1<lr.indexOf(this.getFrameType())},Be.prototype.isViewabilityAware=function(){return-1<ur.indexOf(this.getFrameType())},Be.prototype.isSandboxed=function(){return-1<dr.indexOf(this.getFrameType())},Be.prototype.isAmp=function(){return this.getFrameType()===nr},Be.prototype.isWebview=function(){return this.getFrameType()===ir},Be.prototype.isMraid=function(){return this.getFrameType()===ar},Be.prototype.isSafeFrame=function(){return this.getFrameType()===or},Be.prototype.getSafeFrameApi=function(){var e=this._getApi("$sf");return e&&e.ext?e:null},Be.prototype.getAmpApi=function(){var e=this._getApi("context");return e&&e.observeIntersection?e:null},Be.prototype.getMraidApi=function(){return this._getApi("mraid")},Be.prototype._getApi=function(e){return void 0===this.cachedApis[e]&&(this.cachedApis[e]=this._findApi(e,this.docInfo.window)),this.cachedApis[e]},Be.prototype._findApi=function(e,t,r){if(5<=(r=void 0===r?0:r))return null;try{if(t[e])return t[e]}catch(e){return null}return this._findApi(e,t.parent,r+1)};var pr=Z,hr={getRectPctInView:q,getDefaultBoundingClientRect:J,sumRects:X},fr=K,mr=$,gr=ee,yr="width height x y top bottom left right".split(" "),vr=["width","height"],_r=te,Ir=re,Ar={getState:{validator:ie,defaultReturn:"default"},isViewable:{validator:Ve,defaultReturn:!1},getCurrentPosition:{validator:We,defaultReturn:{width:0,height:0,x:0,y:0}},getScreenSize:{validator:He,defaultReturn:{width:0,height:0}},addEventListener:{},getVersion:{}},br=ze,wr=Qe,Mr=Ye,Er=Ge,Cr="getAdBoundingRect getAdPctInView getBoundingRect getClientDims getElDims getElPctInView setAdContainer".split(" "),Tr=Ze;qe.prototype.init=function(e){var t=this;e=e.domRefs.adchoices,this.asyncUtil.listen(e,"click",function(){return t.onClick()},!1,!0),this.params.edaa&&(this.asyncUtil.listen(e,"mouseenter",function(){return t.eventController.publish("onAdchoicesEnter")},!1,!0),this.asyncUtil.listen(e,"mouseleave",function(){return t.eventController.publish("onAdchoicesExit")},!1,!0))},qe.prototype.onClick=function(){window.open(this.adchoicesUrl,"popup","width=650,height=316")};var Sr=Je,Dr=ne.H.NW,Pr=ne.H.NE,Or=ne.H.SE,Nr=ne.H.SW,Lr=[Pr,Dr,Or,Nr];Xe.prototype.create=function(){return this.blackListCorners(),this.elements.filter(function(e){return e.isNeeded()}).slice(0,4).map(this.toConfig)},Xe.prototype.toConfig=function(e){var t={};t.element=e.getElement(),t.corner=e.getCorner();var r=e.getOffsets(),i=r.yOffsetPx;return t.xOffsetPx=r.xOffsetPx,t.yOffsetPx=i,"function"==typeof e.getCallback&&(t.callback=e.getCallback(t.element,t.corner)),this.corners[t.corner]=e.name,t},Xe.prototype.handleNonCSRElements=function(t){var r,i=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.yield(i.fetchLogoCorner(),2);r=i.create(),t(r),e.jumpToEnd()})},Xe.prototype.fetchLogoCorner=function(){var r=this;return new Promise(function(t){return Sr({creative:r.creative,errorHandler:r.errorHandler}).get(function(e){r.corners[p(e.lp)]="logo",t()})})},Xe.prototype.getAlignment=function(){return this.creative.isVast()||this.creative.isCinemagraph()?Xe.CREATIVE_CONTENT:Xe.MAIN_IMAGE_SLOT},Xe.prototype.getRevealCorner=function(){var e=this.getPreferredRevealCorner();return this.getCornerOrOverrideBlacklist(e)},Xe.prototype.getAdChoicesCorner=function(){return this.getCornerOrOverrideBlacklist(Lr)},Xe.prototype.getLogoCorner=function(){var e=this.getLogoPreferredCorner()||Dr;return this.findPreferredCorner(this.getEmptyCorners(),[e])||this.getAnyEmptyCorner()},Xe.prototype.getLogoPreferredCorner=function(){return this.getImgServerArgs().queryKey.lp},Xe.prototype.getImgServerArgs=function(){var e=this.creative.getParams();return ue("?"+e.img_server_params)},Xe.prototype.getMuteCorner=function(){return this.getCornerOrOverrideBlacklist([Nr])},Xe.prototype.getAnyEmptyCorner=function(){return this.getEmptyCorners()[0]},Xe.prototype.needsAdChoices=function(){return!(null===this.domRefs.adchoices||this.creative.isAdChoicesOptOut()||this.state.isAdChoiceFromTemplate)},Xe.prototype.needsLogo=function(){if(this.areAllCornersLogoBlacklisted())return!1;if(this.creative.isVast()){var e=this.browserInfo.isMobile,t=this.creative.params.logo_image_url,r=-1===(this.placement.logoBlackList||"").indexOf(Dr);return t&&r&&!e&&!!this.domRefs.videoLogo}return!!this.domRefs.logo},Xe.prototype.getEmptyCorners=function(){var t=this;return Object.keys(this.corners).filter(function(e){return null===t.corners[e]})},Xe.prototype.getBlackListedCorners=function(){var t=this;return Object.keys(this.corners).filter(function(e){return"blacklisted"===t.corners[e]})},Xe.prototype.getCornerOrOverrideBlacklist=function(e){return this.findPreferredCorner(this.getEmptyCorners(),e)||this.findPreferredCorner(this.getBlackListedCorners(),e)||this.getAnyEmptyCorner()},Xe.prototype.blackListCorners=function(){var t=this,e=this.placement.logoBlackList;e&&p(e).split(",").forEach(function(e){t.corners[e]="blacklisted"})},Xe.prototype.areAllCornersLogoBlacklisted=function(){return Object.values(this.corners).every(function(e){return"blacklisted"===e})},Xe.prototype.findPreferredCorner=function(t,e){return e.find(function(e){return-1<t.indexOf(p(e))})},Xe.prototype.getPreferredRevealCorner=function(){var e=[Nr,Or,Dr,Pr],t=this.creative.params.customization.reveal;return t.trigger.corner&&(e=e.filter(function(e){return e!==p(t.trigger.corner)})).unshift(p(t.trigger.corner)),e},Xe.prototype.getRevealCallback=function(e,t){var r={},i=(r[Dr]={PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA0NSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},r[Pr]={PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDIyLjUgMjIuNSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},r[Or]={PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgNDUgMCkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},r[Nr]={PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAwbDQ1IDQ1SDB6Ii8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMTAiIHk9IjE0IiB3aWR0aD0iMjEiIGhlaWdodD0iMjIiIHJ4PSIyIi8+PHBhdGggZD0iTTI3LjQ3OSAxNy4yMjVhLjgxNi44MTYgMCAwIDAtLjU4LS4yMzZIMTcuNjFhLjgxNi44MTYgMCAwIDAtLjU4LjIzNi44MjcuODI3IDAgMCAwIDAgMS4xNmwyLjMyMiAyLjMyMy0yLjAzMiAyLjAzMWMtMi45NzUgMi45NzYtNi4xNSA3LjIwMi00LjI4MSAxMS41OTMuNTggMS4zNDIgMS41MjQgMi40ODUgMi41NCAzLjUgMS4yNyAxLjI3IDMuNTY0IDIuMjk2IDUuMjQyIDIuOTQuMzA5LjEwOS42OTkuMjk5IDEuMDI1LjM1My4xNTQuMDI4LjI4MS4wMjguNDA4LS4xLjE4Mi0uMTguMTQ2LS40MzUtLjAyNy0uNjA3LS4xNDUtLjE0NS0uMzQ1LS4yNzItLjQ5OS0uNDA4LS4zOTktLjM0NS0uNzg5LS42OTktMS4xNi0xLjA3LTQuMzI3LTQuMzI3LTIuNTEzLTcuNjQ3IDEuMzk2LTExLjU1NmwyLjAzMi0yLjAzMiAyLjMyMiAyLjMyMmEuODI3LjgyNyAwIDAgMCAxLjE2MSAwIC44MTYuODE2IDAgMCAwIC4yMzYtLjU4di05LjI4OWEuODE2LjgxNiAwIDAgMC0uMjM2LS41OHoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"},r);return"peelback"===(r=this.creative.params.customization.reveal.trigger).type?function(){return e.setAttribute("src",i[t].PEELBACK_URL)}:"info_icon"===r.type?function(){return e.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsLW9wYWNpdHk9Ii44MTUiIGZpbGw9IiMwMDAiIGQ9Ik0wIDBoMzV2MzVIMHoiLz48cGF0aCBkPSJNMjEuNjY3IDI1LjMxM3YtMi42MDVhLjUwNy41MDcgMCAwIDAtLjE0Ny0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NC0uMTQ2aC0xLjU2M3YtOC4zMzRhLjUwNy41MDcgMCAwIDAtLjE0Ni0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NS0uMTQ3aC01LjIwOGEuNTA3LjUwNyAwIDAgMC0uMzc0LjE0Ny41MDcuNTA3IDAgMCAwLS4xNDcuMzc0djIuNjA0YzAgLjE1Mi4wNS4yNzcuMTQ3LjM3NWEuNTA3LjUwNyAwIDAgMCAuMzc0LjE0NmgxLjU2M3Y1LjIwOWgtMS41NjNhLjUwNy41MDcgMCAwIDAtLjM3NC4xNDYuNTA3LjUwNyAwIDAgMC0uMTQ3LjM3NHYyLjYwNWMwIC4xNTEuMDUuMjc2LjE0Ny4zNzRhLjUwNy41MDcgMCAwIDAgLjM3NC4xNDZoNy4yOTJhLjUwNy41MDcgMCAwIDAgLjM3NC0uMTQ2LjUwNy41MDcgMCAwIDAgLjE0Ny0uMzc1em0tMi4wODQtMTMuNjE3VjguNzJhLjYyNi42MjYgMCAwIDAtLjE0Ni0uNDI4LjQ3NS40NzUgMCAwIDAtLjM3NS0uMTY3aC0zLjEyNWEuNDc1LjQ3NSAwIDAgMC0uMzc0LjE2Ny42MjYuNjI2IDAgMCAwLS4xNDYuNDI4djIuOTc2YzAgLjE3NC4wNDguMzE3LjE0Ni40MjhhLjQ3NS40NzUgMCAwIDAgLjM3NC4xNjhoMy4xMjZhLjQ3NS40NzUgMCAwIDAgLjM3NC0uMTY4LjYyNi42MjYgMCAwIDAgLjE0Ni0uNDI4ek0zMCAxNy41YzAgMi4yNjgtLjU1OSA0LjM2LTEuNjc2IDYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEtNC41NSA0LjU1QzIxLjg2IDI5LjQ0IDE5Ljc2OCAzMCAxNy41IDMwcy00LjM2LS41NTktNi4yNzQtMS42NzZhMTIuNDQ0IDEyLjQ0NCAwIDAgMS00LjU1LTQuNTVDNS41NiAyMS44NiA1IDE5Ljc2OCA1IDE3LjVzLjU1OS00LjM2IDEuNjc2LTYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NS00LjU1QzEzLjE0IDUuNTYgMTUuMjMyIDUgMTcuNSA1czQuMzYuNTU5IDYuMjc0IDEuNjc2YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NSA0LjU1QzI5LjQ0IDEzLjE0IDMwIDE1LjIzMiAzMCAxNy41eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=")}:null},Xe.prototype.getAdChoicesCallback=function(e,t){if(!this.creative.getParams().edaa)return null;var r={},i=(r[Dr]="border-bottom-right-radius",r[Pr]="border-bottom-left-radius",r[Or]="border-top-left-radius",r[Nr]="border-top-right-radius",r);return function(){return ne.F.setStyle(e,i[t],"8px")}},Xe.prototype.getLogoOffsets=function(){var e=this.getImgServerArgs().queryKey,t=parseInt(e.logo_y_pct,10),r=parseInt(e.logo_x_pct,10);return e=isNaN(r)&&isNaN(t)?(t=parseInt(e.lox,10),parseInt(e.loy,10)):(t=(e=this.getLogoOffsetsFromPercentage(r,t)).xOffsetPx,e.yOffsetPx),r=isNaN(t)&&isNaN(e),this.creative.isCinemagraph()&&r&&(e=t=10),{xOffsetPx:(t||0)+(r=this.getFinalLogoOffsets()).finalOffsetX+"px",yOffsetPx:(e||0)+r.finalOffsetY+"px"}},Xe.prototype.pct2Px=function(e,t){return Math.floor(.01*e*t)},Xe.prototype.getLogoOffsetsFromPercentage=function(e,t){if(this.state.visibleImageWidth||this.state.visibleImageHeight)var r=this.state.visibleImageWidth,i=this.state.visibleImageHeight;else r=this.placement.imageWidth,i=this.placement.imageHeight;return{xOffsetPx:e=this.pct2Px(e,r),yOffsetPx:t=this.pct2Px(t,i)}},Xe.prototype.getFinalLogoOffsets=function(){return this.state.imageBoxingOffsetX||this.state.imageBoxingOffsetY?{finalOffsetX:this.state.imageBoxingOffsetX,finalOffsetY:this.state.imageBoxingOffsetY}:this.state.logoOffsetX||this.state.logoOffsetY?{finalOffsetX:this.state.logoOffsetX,finalOffsetY:this.state.logoOffsetY}:{finalOffsetX:0,finalOffsetY:0}},Xe.prototype.getMuteOffsets=function(){return{xOffsetPx:"5px",yOffsetPx:"5px"}},Xe.prototype.getDefaultOffsets=function(){return{xOffsetPx:"0px",yOffsetPx:"0px"}},ne.p(Xe,"CREATIVE_CONTENT","creativeContent"),ne.p(Xe,"MAIN_IMAGE_SLOT","mainImageSlot");var xr=ne.H.NE,Rr=ne.H.SE,jr=ne.H.SW,kr={},Ur=(kr[ne.H.NW]=Ke,kr[xr]=$e,kr[Rr]=et,kr[jr]=tt,kr),Fr=ne.H.BUTTONS_DIR+"edaa/",Br=Fr+"OBA_TRANS.png",Vr={fr:Fr+"OBA_FRANCE.png",bg:Fr+"OBA_BULGARIA.png",cs:Fr+"OBA_CZECH.png",da:Fr+"OBA_DENMARK.png",fi:Fr+"OBA_FINLAND.png",de:Fr+"OBA_GERMANY.png",el:Fr+"OBA_GREEK.png",hu:Fr+"OBA_HUNGARY.png",en:Fr+"OBA_UK.png",it:Fr+"OBA_ITALY.png",nl:Fr+"OBA_NETHERLANDS.png",no:Fr+"OBA_NORWAY.png",pl:Fr+"OBA_POLAND.png",ro:Fr+"OBA_ROMANIA.png",sk:Fr+"OBA_SLOVAKIA.png",es:Fr+"OBA_SPAIN.png",sv:Fr+"OBA_SWEDEN.png"};ne.ff={VIDEO_CONTROL:0,VIDEO_CLICK_BLOCK:0,VIDEO_LOGO:0,VIDEO_END_FRAME:1,CAROUSEL_CIRCLE:1,CAROUSEL_ARROW:2,ADCHOICES:3,REVEAL_TRIGGER:3,REVEAL_WRAPPER:4,REVEAL_CLOSE:5,PSA:6};var Wr,Hr,zr,Qr,Yr=ne.H.TL_CLASS_PREFIX+"adchoices";ne.Zd=rt,Wr={isAdChoiceFromTemplate:!1,isBackgroundImage:!1,imageBoxingOffsetX:0,imageBoxingOffsetY:0,logoOffsetX:0,logoOffsetY:0,visibleImageWidth:0,visibleImageHeight:0},Hr="adchoices adWrapper adWrapperWithDims logo mainClickTarget mainImage mainImageCsrEl overlayContainer".split(" "),zr=[function(e){function r(e){if(g&&g.naturalHeight&&e.width&&e.height){var t=g;e=o({imgWidth:e.width,imgHeight:e.height,logoAspectRatio:t.naturalWidth/t.naturalHeight,scaleFactor:.25,logoWidth:a,minLogoPct:s,maxLogoPct:l}),t=g;var r=e.width,i=e.height,n=void 0;n=void 0===n?"px":n,t.style.setProperty("width",r+n,"important"),t.style.setProperty("min-width",r+n,"important"),t.style.setProperty("max-width",r+n,"important"),t.style.setProperty("height",i+n,"important"),t.style.setProperty("min-height",i+n,"important"),t.style.setProperty("max-height",i+n,"important"),t=u,e=e.width,r=d,e=!t||!e||t.indexOf("images.3lift")<0||r&&r<e?t:(e=e<=100?"_w90":e<=200?"_w192":e<=350?"_w300":e<=650?"_w600":"",(t=t.split("."))[t.length-2]+=e,t.join(".")),t=/^https?:/i,g.src.replace(t,"")!==e.replace(t,"")&&(g.src=e)}}function o(e){var t=e.imgWidth,r=e.imgHeight,i=e.logoAspectRatio,n=e.logoWidth,o=e.minLogoPct,a=e.maxLogoPct,s=e.scaleFactor;return e={},n?(e.width=n,e.height=1/i*n,c(e,i,{imgWidth:t,imgHeight:r})):(e.width=t*s,e.height=1/i*e.width,e.width/t<e.height/r&&(e.height=r*s,e.width=e.height*i),(n=(!isNaN(o)||!isNaN(a))&&((n=isNaN(o)?0:o)<=(s=isNaN(a)?100:a)&&0<=n&&n<=100&&0<=s&&s<=100))&&(n=t*r,(s=e.width*e.height)<o/100*n?(e.width=Math.sqrt(o/100*i*n),e.height=e.width/i):a/100*n<s&&(e.width=Math.sqrt(a/100*i*n),e.height=e.width/i)),(e=c(e,i,{imgWidth:t,imgHeight:r})).width=Math.round(e.width),e.height=Math.round(e.height),e)}function c(e,t,r){var i=r.imgWidth;return r=r.imgHeight,n(e=Object.assign({},e),{imgWidth:i,imgHeight:r})&&(e.width=.5*i,e.height=1/t*e.width,n(e,{imgWidth:i,imgHeight:r})&&(e.height=.5*r,e.width=e.height*t)),e}function n(e,t){var r=e.height,i=t.imgHeight;return e.width>t.imgWidth/2||i/2<r}var a,i,s,l,u,d,p,h=e.creative,f=e.eventController,m=h.getParams(),g=null;return{render:function(e){var t;p=e,m.logo_image_url&&p.domRefs.mainImageCsrEl&&!h.isPharma()&&!h.isVast()&&(i=ue("?"+m.img_server_params),s=parseInt(i.queryKey.minLogoPct,10),l=parseInt(i.queryKey.maxLogoPct,10),a=parseInt(i.queryKey.logo_width,10),u=m.logo_image_url,d=m.logo_width,(t=document.createElement("img")).className="tl-logo",ne.pa(t),ne.F.setStyle(t,"position","absolute"),ne.F.setStyle(t,"display","none"),t.onload=function(){f.publish("forceCsrUpdate"),ne.F.setStyle(t,"display","block")},t.src=m.logo_image_url,g=t,f.on("csrUpdate",r),p.domRefs.logo=g)},_getLogoDims:o}},function(e){function n(){ne.F.setStyle(l,"display","block"),ne.F.setStyle(u,"display","none")}function o(){ne.F.setStyle(u,"display","block"),ne.F.setStyle(l,"display","none")}function a(){var e=t.getElDims(s.mainImageCsrEl);e=!(!(15e3<=e.width*e.height)||d.isAutoplay()&&(c.isEnded||!c.isPlaying)),ne.F.setStyle(s.adchoices,"display",e?"inline":"none")}var s,c,l,u,d=e.creative,t=e.positionService,p=e.eventController;return{render:function(e){if(s=e.domRefs,c=e.state,e=s.adWrapper.querySelector("."+Yr))s.adchoices=e,c.isAdChoiceFromTemplate=!0;else{if(e=s,d.params.edaa){var t=ne.F.setStyleProperties(document.createElement("div"),[["padding","1px"],["display","inline-block"],["background","rgba(204, 204, 204, 0.5)"],["width","initial"],["height","initial"]]);(l=document.createElement("img")).className="tl-edaa-icon",l.src=Br,(u=document.createElement("img")).className="tl-edaa-text";var r=u,i=navigator.language.slice(0,2);r.src=Vr[i]||Vr.en,t.appendChild(l),t.appendChild(u),n()}else(t=document.createElement("img")).src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTUgMTUiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoOS44MDM5MjIlLDY3LjA1ODgyNCUsODAlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMC45NzY1NjIgMC4wMTk1MzEyIEMgMC4yMTA5MzggMC4yMDMxMjUgLTAuMDM5MDYyNSAxLjA4MjAzMSAwLjAyMzQzNzUgMS43NzczNDQgQyAtMC4wMjczNDM4IDQuNjc5Njg4IDAuMDE5NTMxMiA3LjU4MjAzMSAwIDEwLjQ4NDM3NSBDIDAuMDIzNDM3NSAxMS42NTYyNSAtMC4wMzkwNjI1IDEyLjgzMjAzMSAwLjA3ODEyNSAxNCBDIDAuMTUyMzQ0IDE0Ljg1MTU2MiAxLjAzMTI1IDE1LjE0ODQzOCAxLjc1MzkwNiAxNC45MzM1OTQgQyAyLjUwMzkwNiAxNC43MzA0NjkgMy4xNDQ1MzEgMTQuMjc3MzQ0IDMuODM1OTM4IDEzLjk0MTQwNiBDIDQuNzAzMTI1IDEzLjU4NTkzOCA0LjYyMTA5NCAxMi4wMTk1MzEgMy41MjczNDQgMTIuMTY0MDYyIEMgMi45MTAxNTYgMTIuNDg4MjgxIDEuOTY4NzUgMTIuNDAyMzQ0IDIuMDUwNzgxIDExLjQ4MDQ2OSBDIDIuMDQ2ODc1IDguNjY0MDYyIDIuMDA3ODEyIDUuODQzNzUgMi4wNzAzMTIgMy4wMzEyNSBDIDIuMjI2NTYyIDIuMTMyODEyIDMuMjYxNzE5IDIuNDA2MjUgMy43Njk1MzEgMi44MTY0MDYgQyA0LjY3MTg3NSAzLjI5Njg3NSA1LjU1NDY4OCAzLjc5Njg3NSA2LjQ2NDg0NCA0LjI2OTUzMSBDIDcuMzc4OTA2IDQuNzczNDM4IDguMjk2ODc1IDUuMjczNDM4IDkuMjE4NzUgNS43NjU2MjUgQyA5Ljk1MzEyNSA2LjE4MzU5NCAxMC43MzQzNzUgNi41MzkwNjIgMTEuNDI1NzgxIDcuMDIzNDM4IEMgMTIuMDU0Njg4IDcuNzIyNjU2IDExIDguMjE0ODQ0IDEwLjQ2NDg0NCA4LjQzMzU5NCBDIDkuNTQyOTY5IDguODYzMjgxIDguNjY0MDYyIDkuMzYzMjgxIDcuNzI2NTYyIDkuNzUzOTA2IEMgNy4zNzEwOTQgOS45MjE4NzUgNi42MDkzNzUgMTAuNTIzNDM4IDYuNDQ1MzEyIDEwLjIxNDg0NCBDIDYuMzgyODEyIDkuMzM5ODQ0IDYuNDg0Mzc1IDguNDQ1MzEyIDYuMzk0NTMxIDcuNTc4MTI1IEMgNi4yMzQzNzUgNi43NDYwOTQgNC44MjQyMTkgNi43MDMxMjUgNC42NDQ1MzEgNy41NDI5NjkgQyA0LjYyNSA5LjAzMTI1IDQuNjM2NzE5IDEwLjUyNzM0NCA0LjYyODkwNiAxMi4wMTk1MzEgQyA1LjA0Mjk2OSAxMi44MDg1OTQgNi4xNDA2MjUgMTIuOTE3OTY5IDYuODA4NTk0IDEyLjM4MjgxMiBDIDcuNTY2NDA2IDEyIDguMzA4NTk0IDExLjYxNzE4OCA5LjA3MDMxMiAxMS4yMzA0NjkgQyA5LjkxNDA2MiAxMC43ODkwNjIgMTAuNzc3MzQ0IDEwLjM1NTQ2OSAxMS42Mjg5MDYgOS45MTQwNjIgQyAxMi41OTM3NSA5LjM3NSAxMy42MzY3MTkgOC45Njg3NSAxNC41NDI5NjkgOC4zMjgxMjUgQyAxNS40Njg3NSA3LjY5NTMxMiAxNC44Mzk4NDQgNi40Mjk2ODggMTMuOTUzMTI1IDYuMTMyODEyIEMgMTMuMDU4NTk0IDUuNjM2NzE5IDEyLjEyODkwNiA1LjIwMzEyNSAxMS4yMjY1NjIgNC43MTA5MzggQyAxMC4xMjg5MDYgNC4xNDg0MzggOS4wMzkwNjIgMy41ODU5MzggNy45NDUzMTIgMy4wMTU2MjUgQyA3LjM3MTA5NCAyLjczMDQ2OSA2LjgwNDY4OCAyLjQxNzk2OSA2LjIyNjU2MiAyLjEyNSBDIDQuOTg4MjgxIDEuNDk2MDk0IDMuNzU3ODEyIDAuODM1OTM4IDIuNTIzNDM4IDAuMjEwOTM4IEMgMi4wNTQ2ODggLTAuMDc4MTI1IDEuNDk2MDk0IDAuMDExNzE4OCAwLjk3NjU2MiAwLjAxOTUzMTIgWiBNIDUuMjMwNDY5IDQuODMyMDMxIEMgNC41MDM5MDYgNSA0LjM5ODQzOCA2LjEzMjgxMiA1LjA2NjQwNiA2LjQ0OTIxOSBDIDUuNzMwNDY5IDYuODQzNzUgNi43MDMxMjUgNi4yMDcwMzEgNi40NTcwMzEgNS40MjU3ODEgQyA2LjM0NzY1NiA0Ljg3ODkwNiA1LjcwNzAzMSA0LjcwMzEyNSA1LjIzMDQ2OSA0LjgzMjAzMSBaIE0gNS4yMzA0NjkgNC44MzIwMzEgIi8+CjwvZz4KPC9zdmc+Cg==",t=ne.F.setStyleProperties(t,[["width","15px"],["height","15px"],["background","none"],["margin","initial"],["padding","initial"],["min-height","initial"]]);t.className=Yr,t=ne.F.setStyleProperties(t,[["z-index",ne.xd(d,ne.ff.ADCHOICES)],["position","absolute"],["margin","initial"],["min-height","initial"],["cursor","pointer"]]),e.adchoices=t,p.on("csrUpdate",a)}d.params.edaa&&(p.on("onAdchoicesEnter",o),p.on("onAdchoicesExit",n))}}},function(e){function t(e){try{0!==e.length&&e.forEach(function(e){var t=e.element,r=e.corner,i=e.xOffsetPx,n=e.yOffsetPx;y.appendChild(t),ne.F.setStyle(t,"pointer-events","all"),Ur[r](t,i,n),e.callback&&e.callback()})}catch(e){d.fireError(e,d.ERROR)}}function r(e){v=e}function i(e){ne.F.setStyle(y,"top",e.y+"px"),ne.F.setStyle(y,"left",e.x+"px"),v&&(ne.F.setStyle(y,"height",v.height-2*e.y+"px"),ne.F.setStyle(y,"width",v.width-2*e.x+"px"))}function n(){var e=document.createElement("div");return e.className="tl-transparent",ne.F.setStyle(e,"position","absolute"),ne.F.setStyle(e,"pointer-events","none"),e}function o(){c();var e=m.mainImage;e&&e.complete&&a()}function a(){c();var e=m.mainImage.getBoundingClientRect(),t=y.parentElement.getBoundingClientRect(),r=e.left-t.left;ne.F.setStyle(y,"top",e.top-t.top+"px"),ne.F.setStyle(y,"left",r+"px"),ne.F.setStyle(y,"width",e.width+"px"),ne.F.setStyle(y,"height",e.height+"px")}function s(e){ne.F.setStyle(y,"width",e.width+"px"),ne.F.setStyle(y,"height",e.height+"px")}function c(){if(null===y.parentElement){var e=m.adWrapperWithDims,t=e,r=ne.F.getPropertyValue(t,"position");["static","","relative"].indexOf(r)<0?t=document.body:ne.F.setStyle(t,"position","relative"),t!==e&&d.fireError("Invalid position style set on ad wrapper",d.WARNING),t.appendChild(y)}return y.parentElement}var l=e.creative,u=e.placement,d=e.errorHandler,p=e.asyncUtil,h=e.browserInfo,f=e.eventController,m=null,g=null,y=null,v=null,_=null;return{render:function(e){e=e,m=e.domRefs,g=e.state,_=new Xe({creative:l,placement:u,domRefs:m,state:g,browserInfo:h,errorHandler:d}),e=!!m.mainImageCsrEl,_.getAlignment()===Xe.MAIN_IMAGE_SLOT?e?(y=m.mainImageCsrEl,t(_.create())):(_.handleNonCSRElements(t),y=n(),p.addResizeListener(window,o),m.mainImage&&m.mainImage.addEventListener("load",a)):(y=n(),l.isVast()?((e=m.video).parentElement.appendChild(y),f.on("csrVideoDimsUpdate",s)):(e=m.mainImageCsrEl,y.style.position="relative",e.appendChild(y)),f.on("csrOverlayOffsetUpdate",i),f.on("csrUpdate",r),t(_.create())),m.overlayContainer=y}}}],Qr=[qe],it.build=function(e,t,r){var i=it.getImageUrlKey(t),n=y(t[i]);return n&&(t[i]=n),i=it.parseSizedImgMacros(e,t[i]),Object.assign(t,i),it.interpolate(e,Object.assign({},t,{inv_code:r.invCode,disclosure:r.disclosure,cta:t.cta||r.cta}))},it.parseSizedImgMacros=function(e,i){var n=ue(i),o={};return(e.match(/%%%IMAGE_URL_\d+_X_\d+%%%/gi)||[]).forEach(function(e){var t,r=(e=e.slice(3,-3)).split("_");"data"===n.protocol?o[e]=i:(0<=n.host.indexOf("img.3lift")&&(n.queryKey.width=r[2],n.queryKey.height=r[4]),t=n.queryKey,r=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),o[e]=y("//"+n.host+n.path+"?"+r))}),o},it.interpolate=function(r,i){var n,o,a=r;return Object.keys(i).forEach(function(e){var t;n=i[e],o=new RegExp("%%%"+e+"%%%","gi"),r.match(o)&&(a=a.replace(o,(t=n,function(){return t})))}),a},it.getImageUrlKey=function(e){var t;for(e=Object.keys(e),t=0;t<e.length;t+=1){var r=e[t];if("image_url"===r.toLowerCase())return r}return null};var Gr,Zr={init:nt},qr={init:function(e,t){t.params.logo_image_url||((t=e.getElementsByClassName(ne.H.TL_CLASS_PREFIX+"logo-img")[0])&&(t.src=ne.H.TINY_IMG_DATA,ne.Ca(t)),(e=e.getElementsByClassName(ne.H.TL_CLASS_PREFIX+"logo")[0])&&ne.Ca(e))}},Jr={init:function(e,t){e=e.getElementsByClassName(ne.H.TL_CLASS_PREFIX+"sub-headline"),!t.params.subheadline&&0<e.length&&(t=e[0])&&ne.Ca(t)}};ne.Wd=ot,Gr="iframe style meta script link br hr".split(" ");var Xr=at,Kr=lt;ne.Ud.prototype.init=function(e){var t=this;ne.Sd(e.domRefs.adWrapperWithDims,function(){return t.mouseover()},this.asyncUtil)},ne.Ud.prototype.mouseover=function(){this.analytics.mouseover()},ut.prototype.init=function(e){var t=this;this.asyncUtil.listen(e.domRefs.mainClickTarget,"click",function(){return t.clickThrough()},!1,!0)},ut.prototype.clickThrough=function(){var e=this.creative.params.clickthrough_url;this.analytics.click(),this.browserInfo.isFacebook?this.asyncUtil.timeoutWrap(function(){ne.Td(e)},500):ne.Td(e)};var $r={create:dt},ei={name:"imageRendererFactoryLoader",isSupported:pt,load:ht},ti=ft,ri={create:mt},ii={name:"cinemagraphRendererFactoryLoader",isSupported:gt,load:yt},ni={name:"carouselRendererFactoryLoader",isSupported:vt,load:_t};It.isXml=function(e){return(e=void 0===e?"":e).includes("<VAST")&&e.includes("<Ad")},It.getAdAspectRatio=function(e){return parseFloat((e.width/e.height).toFixed(2))},It.sortByAspectRatio=function(e,t,r){var i=It.getAdAspectRatio(r),n=It.parsedAspectRatio(e);return n=i===n,i=i===It.parsedAspectRatio(t),n&&i?It.sortByClosestDims(e,t,r):n&&!i?-1:i&&!n?1:It.sortByAspectRatioDistance(e,t,r)},It.sortByAspectRatioDistance=function(e,t,r){var i=It.getAdAspectRatio(r),n=It.parsedAspectRatio(e),o=It.parsedAspectRatio(t);return(n=Math.abs(n-i))<(i=Math.abs(o-i))?-1:i<n?1:It.sortByClosestDims(e,t,r)},It.sortMediaBySize=function(e,t,r){r={width:r.imageWidth,height:r.imageHeight};var i=It.dimsLessThanPlacement(e,r),n=It.dimsLessThanPlacement(t,r);return!i&&n?-1:i&&!n?1:It.sortByAspectRatio(e,t,r)},It.orderBestMediaFiles=function(e){function t(e,t){return"desc"===t?e.sort(function(e,t){return t.getAttribute("bitrate")-e.getAttribute("bitrate")}):e.sort(function(e,t){return e.getAttribute("bitrate")-t.getAttribute("bitrate")})}var r=[],i=[],n=[],o=[];return e.forEach(function(e){var t=At(e,"bitrate");t?400<=t&&t<1200?r.push(e):t<1200?i.push(e):o.push(e):n.push(e)}),t(i,"desc"),t(o),[].concat(ne.m.arrayFromIterable(r),ne.m.arrayFromIterable(i),ne.m.arrayFromIterable(o),ne.m.arrayFromIterable(n))},It.dimsLessThanPlacement=function(e,t){var r=At(e,"height");return At(e,"width")<t.width||r<t.height},It.parsedAspectRatio=function(e){var t=At(e,"height");return e=At(e,"width"),t?parseFloat((e/t).toFixed(2)):0},It.distanceByDims=function(e,t){return{width:Math.abs(At(e,"width")-t.width),height:e=Math.abs(At(e,"height")-t.height)}},It.sortByClosestDims=function(e,t,r){var i=It.distanceByDims(e,r);return r=It.distanceByDims(t,r),i.width<r.width&&i.height<r.height?-1:i.width>r.width&&i.height>r.height?1:It.sortByBestDeskTopBitRate(e,t)},It.sortByBestDeskTopBitRate=function(e,t){if(e=At(e,"bitrate"),t=At(t,"bitrate"),e&&t){var r=400<=e&&e<1200,i=400<=t&&t<1200;return r&&!i?-1:!r&&i?1:t-e}return e?1:-1},It.byBestBitrateMobile=function(e,t,r){var i=At(e,"bitrate"),n=At(t,"bitrate");return i===n?It.sortMediaBySize(e,t,r):!i&&n?1:!n&&i?-1:Math.abs(At(e,"bitrate")-750)-Math.abs(At(t,"bitrate")-750)},bt.prototype.querySelector=function(e){return this.xmlDocument.querySelector(e)},bt.prototype.querySelectorAll=function(e){return this.xmlDocument.querySelectorAll(e)},bt.prototype._validateVastXml=function(){if(!this.querySelector("VAST"))throw new se("Missing VAST element");if(!this.querySelector("Ad"))throw new se("Missing Ad element");if(this.querySelector("Wrapper")){if(!this.querySelector("VASTAdTagURI"))throw new se("Missing VASTAdTagURI element")}else{if(!this.querySelector("InLine"))throw new se("Missing InLine and Wrapper element");if(!this.querySelector("Creative"))throw new se("Missing Creative element(s)");if(!this.querySelector("Linear"))throw new se("Missing Linear element(s)")}},ne.O.listen=function(e){var n=this,t=e.eventController,o=e.errorHandler;this.VAST_CODE_LEVELS||(e={},this.VAST_CODE_LEVELS=(e[ne.O.VAST_ERROR_XML_PARSING]=o.ERROR,e[ne.O.VAST_ERROR_VAST_SCHEMA]=o.ERROR,e[ne.O.VAST_TRAFFICKING_ERROR]=o.ERROR,e[ne.O.VAST_UNEXPECTED_DURATION_ERROR]=o.WARNING,e[ne.O.VAST_WRAPPER_ERROR]=o.ERROR,e[ne.O.VAST_WRAPPER_TIMEOUT]=o.ERROR,e[ne.O.VAST_TOO_MANY_REDIRECTS]=o.ERROR,e[ne.O.VAST_NO_ADS_AFTER_WRAPPER]=o.ERROR,e[ne.O.VAST_LINEAR_ERROR]=o.ERROR,e[ne.O.VAST_MEDIA_NOT_FOUND]=o.ERROR,e[ne.O.VAST_MEDIA_LOAD_TIMEOUT]=o.ERROR,e[ne.O.VAST_MEDIA_ASSET_MISMATCH]=o.ERROR,e[ne.O.VAST_PROBLEM_DISPLAYING_MEDIA_FILE]=o.ERROR,e[ne.O.VAST_UNDEFINED_ERROR]=o.ERROR,e[ne.O.VAST_VPAID_ERROR]=o.ERROR,e)),t.on("vastVideoError",function(e,t){t=void 0===t?{}:t;var r=ne.O.VAST_CODE_MAP[e],i=n.VAST_CODE_LEVELS[e];void 0===r?o.fireError("invalid vast error code"):o.fireError(e+": "+r+(t.message?" "+t.message:""),i,Object.assign({},{errorCode:e},t.diagnosticContext))})},ne.p(ne.O,"VAST_ERROR_XML_PARSING",100),ne.p(ne.O,"VAST_ERROR_VAST_SCHEMA",101),ne.p(ne.O,"VAST_TRAFFICKING_ERROR",200),ne.p(ne.O,"VAST_UNEXPECTED_DURATION_ERROR",202),ne.p(ne.O,"VAST_WRAPPER_ERROR",300),ne.p(ne.O,"VAST_WRAPPER_TIMEOUT",301),ne.p(ne.O,"VAST_TOO_MANY_REDIRECTS",302),ne.p(ne.O,"VAST_NO_ADS_AFTER_WRAPPER",303),ne.p(ne.O,"VAST_LINEAR_ERROR",400),ne.p(ne.O,"VAST_MEDIA_NOT_FOUND",401),ne.p(ne.O,"VAST_MEDIA_LOAD_TIMEOUT",402),ne.p(ne.O,"VAST_MEDIA_ASSET_MISMATCH",403),ne.p(ne.O,"VAST_PROBLEM_DISPLAYING_MEDIA_FILE",405),ne.p(ne.O,"VAST_UNDEFINED_ERROR",900),ne.p(ne.O,"VAST_VPAID_ERROR",901),ne.p(ne.O,"ERROR_BLOCK","Video");var oi={};ne.p(ne.O,"VAST_CODE_MAP",(oi[ne.O.VAST_ERROR_XML_PARSING]="XML Parsing error.",oi[ne.O.VAST_ERROR_VAST_SCHEMA]="VAST schema validation error.",oi[ne.O.VAST_TRAFFICKING_ERROR]="Trafficking error. Media player received an Ad type that it was not expecting and/or cannot play",oi[ne.O.VAST_UNEXPECTED_DURATION_ERROR]="Media player expecting different duration.",oi[ne.O.VAST_WRAPPER_ERROR]="General Wrapper error.",oi[ne.O.VAST_WRAPPER_TIMEOUT]="Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element.",oi[ne.O.VAST_TOO_MANY_REDIRECTS]="Wrapper limit reached, as defined by the media player. Too many Wrapper responses have been received with no InLine response.",oi[ne.O.VAST_NO_ADS_AFTER_WRAPPER]="No VAST response after one or more Wrappers.",oi[ne.O.VAST_LINEAR_ERROR]="General Linear error. Media player is unable to display the Linear Ad.",oi[ne.O.VAST_MEDIA_NOT_FOUND]="File not found. Unable to find Linear/MediaFile from URI.",oi[ne.O.VAST_MEDIA_LOAD_TIMEOUT]="Timeout of MediaFile URI.",oi[ne.O.VAST_MEDIA_ASSET_MISMATCH]="Couldn't find MediaFile that is supported by this media player, based on the attributes of the MediaFile element.",oi[ne.O.VAST_PROBLEM_DISPLAYING_MEDIA_FILE]="Problem displaying MediaFile. Media player found a MediaFile with supported type but couldn't display it.",oi[ne.O.VAST_UNDEFINED_ERROR]="Undefined error.",oi[ne.O.VAST_VPAID_ERROR]="General VPAID error.",oi)),ne.p(ne.O,"VAST_CODE_LEVELS",null);var ai=new Promise(function(){});wt.prototype.getVastXml=function(t){var r,i=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return i.expandMacros=function(e){return t.expandFirstPartyMacros(t.params.additional_data.tid,t.params.asset_id,e)},r=t.params.vast_xml,e.return(It.isXml(r)?i._parseVastContent(r):i._fetchVast(r))})},wt.prototype._fetchVast=function(t){var r,i,n,o=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(r=o.expandMacros(t),o.vastWrapperBreadcrumbs.push({url:t,expandedUrl:r}),e.setCatchFinallyBlocks(2),o._startRedirectTimeout(),e.yield(h(r,"GET"),4)):2!=e.nextAddress?(i=e.yieldResult,o._clearRedirectTimeout(),n=i.target.responseText,e.return(o._parseVastContent(n))):(e.enterCatchBlock(),o._clearRedirectTimeout(),o._vastWrapperError("Wrapper redirect failed. Possible causes include 404s and CORS errors"),e.return(ai))})},wt.prototype._parseVastContent=function(e){var r,i,n,o=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:if(!e)throw new se("Missing vastXml");try{r=new bt(e)}catch(e){return o.eventController.publish("vastVideoError",ne.O.VAST_ERROR_VAST_SCHEMA,{message:e.message}),t.return(ai)}if(t.setCatchFinallyBlocks(2),i=r.querySelector("Ad InLine"),n=r.querySelector("Ad Wrapper"),o._collectImpressionTrackers(i||n),o._collectVendor(i||n),n)return o._collectCreativeTrackers(n),o._hasExceededRedirectLimit()?t.return(ai):(t.setCatchFinallyBlocks(5),t.yield(o._fetchVast(n.querySelector("VASTAdTagURI").textContent),7));t.jumpTo(4);break;case 7:return t.return(t.yieldResult);case 5:t.enterCatchBlock(2),o._clearRedirectTimeout(),o.eventController.publish("vastVideoError",ne.O.VAST_WRAPPER_ERROR);case 4:if(i)return t.return(r);t.leaveTryBlock(3);break;case 2:t.enterCatchBlock(),o.eventController.publish("vastVideoError",ne.O.VAST_WRAPPER_ERROR);case 3:return t.return(ai)}})},wt.prototype.getImpressionTrackers=function(e){return e=[].slice.call(e.querySelectorAll("Impression")),[].concat(ne.m.arrayFromIterable(e),ne.m.arrayFromIterable(this.impressionTrackers))},wt.prototype.getVideoClickTrackers=function(e){return e=[].slice.call(e.querySelectorAll("VideoClicks ClickTracking")),[].concat(ne.m.arrayFromIterable(e),ne.m.arrayFromIterable(this.videoClickTrackers))},wt.prototype.getAssortedTrackers=function(e){return e=[].slice.call(e.querySelectorAll("TrackingEvents Tracking")),[].concat(ne.m.arrayFromIterable(e),ne.m.arrayFromIterable(this.assortedTrackers))},wt.prototype._collectVendor=function(e){this.adSystems.push(e.AdSystem||"un")},wt.prototype.getBreadcrumbs=function(){return this.vastWrapperBreadcrumbs},wt.prototype._collectImpressionTrackers=function(e){(e=[].slice.call(e.querySelectorAll("Impression"))).length&&(this.impressionTrackers=[].concat(ne.m.arrayFromIterable(this.impressionTrackers),ne.m.arrayFromIterable(e)))},wt.prototype._collectCreativeTrackers=function(e){var t=[].slice.call(e.querySelectorAll("TrackingEvents Tracking"));e=[].slice.call(e.querySelectorAll("VideoClicks ClickTracking")),this.assortedTrackers=[].concat(ne.m.arrayFromIterable(this.assortedTrackers),ne.m.arrayFromIterable(t)),this.videoClickTrackers=[].concat(ne.m.arrayFromIterable(this.videoClickTrackers),ne.m.arrayFromIterable(e))},wt.prototype._startRedirectTimeout=function(){var e=this;this.timeoutID=setTimeout(function(){e.eventController.publish("vastVideoError",ne.O.VAST_WRAPPER_TIMEOUT)},5e3)},wt.prototype._clearRedirectTimeout=function(){clearTimeout(this.timeoutID)},wt.prototype._hasExceededRedirectLimit=function(){return 10<=this.getBreadcrumbs().length&&(this.eventController.publish("vastVideoError",ne.O.VAST_TOO_MANY_REDIRECTS),!0)},wt.prototype._vastWrapperError=function(e){this.eventController.publish("vastVideoError",ne.O.VAST_WRAPPER_ERROR,{message:e,diagnosticContext:Object.assign({},this.vastWrapperBreadcrumbs)})},wt.prototype.logVendors=function(){this.firePix.fireDyn({long1:9792,string2:this.adSystems.join(",")})};var si={"video/mp4":!0};Mt.prototype.getVastXml=function(){var t,r=this;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return t=r,e.yield(r.vastParser.getVastXml(r.creativeObj),2);t.vastXml=e.yieldResult,ce(r.settings.vastVendorsLogRate,function(){return r.vastParser.logVendors()}),r.InLine=r.vastXml.querySelector("InLine"),r.Creative=r.InLine.querySelector("Creative"),e.jumpToEnd()})},Mt.prototype.getAdParameters=function(){var e=this.Creative.querySelector("AdParameters");return e?e.textContent:null},Mt.prototype.getAdSystem=function(){var e=this.InLine.querySelector("AdSystem");return e?e.textContent:null},Mt.prototype.getDurationMS=function(){var e=this.Creative.querySelector("Duration")||{};return ne.Za(e.textContent)},Mt.prototype.getVastClickThrough=function(){return this.Creative.querySelector("VideoClicks ClickThrough")},Mt.prototype.getVastClickThroughUrl=function(){var e=this.getVastClickThrough();return e?e.textContent:null},Mt.prototype.getMediaFiles=function(e){return e=void 0===e?this.Creative:e,[].slice.call(e.querySelectorAll("MediaFile"))},Mt.prototype.getImpressionTrackers=function(){return this.vastParser.getImpressionTrackers(this.Creative.querySelector("Linear"))},Mt.prototype.getVideoClickTrackers=function(){return this.vastParser.getVideoClickTrackers(this.Creative.querySelector("Linear"))},Mt.prototype.getAssortedTrackers=function(){return this.vastParser.getAssortedTrackers(this.Creative.querySelector("Linear"))},Mt.prototype.getVastWrapperBreadcrumbs=function(){return this.vastParser.getBreadcrumbs()},Mt.prototype.useNextVpaidCreative=function(){var e=this._getNextVpaidCreative();return e&&(this.Creative=e),e},Mt.prototype._getNextVpaidCreative=function(){var t=this,e=[].slice.call(this.InLine.querySelectorAll("Creative")),r=e.indexOf(this.Creative);return e.slice(r+1).find(function(e){return 0<t._getJavascriptVpaid(e).length})},Mt.prototype.chooseBestMediaFiles=function(e){var r=this;e=void 0!==(e=void 0===e?{}:e).useBitrate&&e.useBitrate;var t=this.isVpaid()?this._getJavascriptVpaid():this._getSupportedMediaFiles();return t.length?e?t.sort(function(e,t){return It.byBestBitrateMobile(e,t,r.placement)}).slice(0,1):(e=t.slice().sort(function(e,t){return It.sortMediaBySize(e,t,r.placement)}),It.orderBestMediaFiles(e)):this.getMediaFiles()},Mt.prototype._getJavascriptVpaid=function(e){return e=void 0===e?this.Creative:e,this.getMediaFiles(e).filter(function(e){var t="VPAID"===e.getAttribute("apiFramework");return e=e.getAttribute("type"),t&&("application/x-javascript"===e||"application/javascript"===e)})},Mt.prototype._getSupportedMediaFiles=function(){return this.getMediaFiles().filter(function(e){return si[e.getAttribute("type")]})},Mt.prototype.isVpaid=function(){var e=[].slice.call(this.Creative.querySelectorAll("MediaFile"));return!!e.length&&e.every(function(e){return"VPAID"===e.getAttribute("apiFramework")})};var ci=Et,li=ne.H.TL_CLASS_PREFIX+"iframe",ui={create:Ct},di={load:Tt},pi=[ei,ii,ni,{name:"videoRendererFactoryLoader",isSupported:function(e){return e.isVast()},load:function(e){var t,r=e.placement,i=e.environment,n=e.settings,o=e.creative,a=e.firePix,s=e.errorHandler,c=e.eventController,l=e.asyncUtil;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(t=new Mt({placement:r,environment:i,settings:n},{creative:o,eventController:c,firePix:a,asyncUtil:l}),o.setVastTag(t),ne.O.listen({errorHandler:s,eventController:c}),e.yield(t.getVastXml(),2)):e.return(ne.da.e(0).then(function(){return ne.pf}))})}},{name:"scrollRendererFactoryLoader",isSupported:function(e){return e.isScroll()},load:function(){return ne.da.e(7).then(function(){return ne.qf})}},{name:"pharmaRendererFactoryLoader",isSupported:function(e){return e.isPharma()},load:function(){return ne.da.e(3).then(function(){return ne.rf})}},{name:"windowRendererFactoryLoader",isSupported:function(e){return e.isWindow()},load:function(){return ne.da.e(8).then(function(){return ne.sf})}},{name:"bannerRendererFactoryLoader",isSupported:function(e){return e.isBanner()},load:function(){return new Promise(function(e){e({default:ui})})}}],hi=[{name:"revealConfigFactoryLoader",isSupported:function(e){return e.params.customization&&e.params.customization.reveal},load:function(){return ne.da.e(6).then(function(){return ne.tf})}}];Ot.isTripleLiftTest=function(e){return"string"==typeof e&&e.toLowerCase().includes("triplelifttest=true")};var fi=window._tlImpressionBusLoader;ne.da.p=fi.getPublicPath(),fi.onload({run:function(e){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];var i,n;return ne.m.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(e.setCatchFinallyBlocks(2),e.yield(Nt.apply(null,ne.m.arrayFromIterable(t)),4)):2!=e.nextAddress?e.leaveTryBlock(0):(i=e.enterCatchBlock(),n=encodeURIComponent("Fatal: "+(i.message||i)),document.createElement("IMG").src="//eb2.3lift.com/sce?lvl=1&block=unknown&e="+n,void e.jumpToEnd())})}})}.call(this||window,window.__wpcc=window.__wpcc||{});